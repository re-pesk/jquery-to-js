var $=Object.create,k=Object.defineProperty,I=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,N=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,Z=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),q=(n,t)=>{for(var r in t)k(n,r,{get:t[r],enumerable:!0})},j=(n,t,r,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of D(t))!S.call(n,f)&&f!==r&&k(n,f,{get:()=>t[f],enumerable:!(p=I(t,f))||p.enumerable});return n},z=(n,t,r)=>(j(n,t,"default"),r&&j(r,t,"default")),T=(n,t,r)=>(r=n!=null?$(N(n)):{},j(t||!n||!n.__esModule?k(r,"default",{value:n,enumerable:!0}):r,n)),C=Z((n,t)=>{"use strict";t.exports=function(r){var p=r.utils.escapeRE,f=r.utils.arrayReplaceAt,m=" \r\n$+<=>^`|~",O=r.utils.lib.ucmicro.P.source,w=r.utils.lib.ucmicro.Z.source;function E(e,b,v,g){var u,a,l,c,i,o=e.bMarks[b]+e.tShift[b],s=e.eMarks[b];if(o+2>=s||e.src.charCodeAt(o++)!==42||e.src.charCodeAt(o++)!==91)return!1;for(c=o;o<s;o++){if(l=e.src.charCodeAt(o),l===91)return!1;if(l===93){i=o;break}else l===92&&o++}return i<0||e.src.charCodeAt(i+1)!==58?!1:g?!0:(u=e.src.slice(c,i).replace(/\\(.)/g,"$1"),a=e.src.slice(i+2,s).trim(),u.length===0||a.length===0?!1:(e.env.abbreviations||(e.env.abbreviations={}),typeof e.env.abbreviations[":"+u]>"u"&&(e.env.abbreviations[":"+u]=a),e.line=b+1,!0))}function M(e){var b,v,g,u,a,l,c,i,o,s,P,_,x,d=e.tokens;if(e.env.abbreviations){for(_=new RegExp("(?:"+Object.keys(e.env.abbreviations).map(function(h){return h.substr(1)}).sort(function(h,y){return y.length-h.length}).map(p).join("|")+")"),P="(^|"+O+"|"+w+"|["+m.split("").map(p).join("")+"])("+Object.keys(e.env.abbreviations).map(function(h){return h.substr(1)}).sort(function(h,y){return y.length-h.length}).map(p).join("|")+")($|"+O+"|"+w+"|["+m.split("").map(p).join("")+"])",o=new RegExp(P,"g"),v=0,g=d.length;v<g;v++)if(d[v].type==="inline"){for(u=d[v].children,b=u.length-1;b>=0;b--)if(x=u[b],x.type==="text"&&(i=0,l=x.content,o.lastIndex=0,c=[],!!_.test(l))){for(;s=o.exec(l);)(s.index>0||s[1].length>0)&&(a=new e.Token("text","",0),a.content=l.slice(i,s.index+s[1].length),c.push(a)),a=new e.Token("abbr_open","abbr",1),a.attrs=[["title",e.env.abbreviations[":"+s[2]]]],c.push(a),a=new e.Token("text","",0),a.content=s[2],c.push(a),a=new e.Token("abbr_close","abbr",-1),c.push(a),o.lastIndex-=s[3].length,i=o.lastIndex;c.length&&(i<l.length&&(a=new e.Token("text","",0),a.content=l.slice(i),c.push(a)),d[v].children=u=f(u,b,c))}}}}r.block.ruler.before("reference","abbr_def",E,{alt:["paragraph","reference"]}),r.core.ruler.after("linkify","abbr_replace",M)}}),R={};q(R,{default:()=>H});var B=T(C());z(R,T(C()));var{default:A,...G}=B,H=A!==void 0?A:G;export{H as default};
//# sourceMappingURL=markdown-it-abbr.bundle.js.map