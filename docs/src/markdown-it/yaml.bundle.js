var qr=Object.create,_t=Object.defineProperty,Fr=Object.getOwnPropertyDescriptor,Yr=Object.getOwnPropertyNames,Vr=Object.getPrototypeOf,Wr=Object.prototype.hasOwnProperty,j=(e,t)=>_t(e,"name",{value:t,configurable:!0}),Jr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gr=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yr(t))!Wr.call(e,s)&&s!==n&&_t(e,s,{get:()=>t[s],enumerable:!(r=Fr(t,s))||r.enumerable});return e},vn=(e,t,n)=>(n=e!=null?qr(Vr(e)):{},Gr(t||!e||!e.__esModule?_t(n,"default",{value:e,enumerable:!0}):n,e)),kn=Jr((e,t)=>{"use strict";var n=typeof Reflect=="object"?Reflect:null,r=n&&typeof n.apply=="function"?n.apply:j(function(p,A,L){return Function.prototype.apply.call(p,A,L)},"ReflectApply"),s;n&&typeof n.ownKeys=="function"?s=n.ownKeys:Object.getOwnPropertySymbols?s=j(function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))},"ReflectOwnKeys"):s=j(function(p){return Object.getOwnPropertyNames(p)},"ReflectOwnKeys");function a(p){console&&console.warn&&console.warn(p)}j(a,"ProcessEmitWarning");var c=Number.isNaN||j(function(p){return p!==p},"NumberIsNaN");function l(){l.init.call(this)}j(l,"EventEmitter"),t.exports=l,t.exports.once=T,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var f=10;function d(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}j(d,"checkListener"),Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(p){if(typeof p!="number"||p<0||c(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");f=p}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=j(function(p){if(typeof p!="number"||p<0||c(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},"setMaxListeners");function b(p){return p._maxListeners===void 0?l.defaultMaxListeners:p._maxListeners}j(b,"_getMaxListeners"),l.prototype.getMaxListeners=j(function(){return b(this)},"getMaxListeners"),l.prototype.emit=j(function(p){for(var A=[],L=1;L<arguments.length;L++)A.push(arguments[L]);var C=p==="error",_=this._events;if(_!==void 0)C=C&&_.error===void 0;else if(!C)return!1;if(C){var M;if(A.length>0&&(M=A[0]),M instanceof Error)throw M;var U=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw U.context=M,U}var z=_[p];if(z===void 0)return!1;if(typeof z=="function")r(z,this,A);else for(var Ue=z.length,Ze=S(z,Ue),L=0;L<Ue;++L)r(Ze[L],this,A);return!0},"emit");function y(p,A,L,C){var _,M,U;if(d(L),M=p._events,M===void 0?(M=p._events=Object.create(null),p._eventsCount=0):(M.newListener!==void 0&&(p.emit("newListener",A,L.listener?L.listener:L),M=p._events),U=M[A]),U===void 0)U=M[A]=L,++p._eventsCount;else if(typeof U=="function"?U=M[A]=C?[L,U]:[U,L]:C?U.unshift(L):U.push(L),_=b(p),_>0&&U.length>_&&!U.warned){U.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=p,z.type=A,z.count=U.length,a(z)}return p}j(y,"_addListener"),l.prototype.addListener=j(function(p,A){return y(this,p,A,!1)},"addListener"),l.prototype.on=l.prototype.addListener,l.prototype.prependListener=j(function(p,A){return y(this,p,A,!0)},"prependListener");function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}j(w,"onceWrapper");function E(p,A,L){var C={fired:!1,wrapFn:void 0,target:p,type:A,listener:L},_=w.bind(C);return _.listener=L,C.wrapFn=_,_}j(E,"_onceWrap"),l.prototype.once=j(function(p,A){return d(A),this.on(p,E(this,p,A)),this},"once"),l.prototype.prependOnceListener=j(function(p,A){return d(A),this.prependListener(p,E(this,p,A)),this},"prependOnceListener"),l.prototype.removeListener=j(function(p,A){var L,C,_,M,U;if(d(A),C=this._events,C===void 0)return this;if(L=C[p],L===void 0)return this;if(L===A||L.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete C[p],C.removeListener&&this.emit("removeListener",p,L.listener||A));else if(typeof L!="function"){for(_=-1,M=L.length-1;M>=0;M--)if(L[M]===A||L[M].listener===A){U=L[M].listener,_=M;break}if(_<0)return this;_===0?L.shift():O(L,_),L.length===1&&(C[p]=L[0]),C.removeListener!==void 0&&this.emit("removeListener",p,U||A)}return this},"removeListener"),l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=j(function(p){var A,L,C;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[p]),this;if(arguments.length===0){var _=Object.keys(L),M;for(C=0;C<_.length;++C)M=_[C],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=L[p],typeof A=="function")this.removeListener(p,A);else if(A!==void 0)for(C=A.length-1;C>=0;C--)this.removeListener(p,A[C]);return this},"removeAllListeners");function k(p,A,L){var C=p._events;if(C===void 0)return[];var _=C[A];return _===void 0?[]:typeof _=="function"?L?[_.listener||_]:[_]:L?I(_):S(_,_.length)}j(k,"_listeners"),l.prototype.listeners=j(function(p){return k(this,p,!0)},"listeners"),l.prototype.rawListeners=j(function(p){return k(this,p,!1)},"rawListeners"),l.listenerCount=function(p,A){return typeof p.listenerCount=="function"?p.listenerCount(A):g.call(p,A)},l.prototype.listenerCount=g;function g(p){var A=this._events;if(A!==void 0){var L=A[p];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}j(g,"listenerCount"),l.prototype.eventNames=j(function(){return this._eventsCount>0?s(this._events):[]},"eventNames");function S(p,A){for(var L=new Array(A),C=0;C<A;++C)L[C]=p[C];return L}j(S,"arrayClone");function O(p,A){for(;A+1<p.length;A++)p[A]=p[A+1];p.pop()}j(O,"spliceOne");function I(p){for(var A=new Array(p.length),L=0;L<A.length;++L)A[L]=p[L].listener||p[L];return A}j(I,"unwrapListeners");function T(p,A){return new Promise(function(L,C){function _(U){p.removeListener(A,M),C(U)}j(_,"errorListener");function M(){typeof p.removeListener=="function"&&p.removeListener("error",_),L([].slice.call(arguments))}j(M,"resolver"),x(p,A,M,{once:!0}),A!=="error"&&B(p,_,{once:!0})})}j(T,"once");function B(p,A,L){typeof p.on=="function"&&x(p,"error",A,L)}j(B,"addErrorHandlerIfEventEmitter");function x(p,A,L,C){if(typeof p.on=="function")C.once?p.once(A,L):p.on(A,L);else if(typeof p.addEventListener=="function")p.addEventListener(A,j(function _(M){C.once&&p.removeEventListener(A,_),L(M)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}j(x,"eventTargetAgnosticAddListener")}),Qr=vn(kn()),En=vn(kn()),{EventEmitter:Sn,init:ws,listenerCount:vs,once:ks}=En,{default:Hr,...Xr}=En,Es=Qr.default??Hr??Xr;var se=new Sn;se.setMaxListeners(1<<10);var he=typeof Deno<"u",tt={title:he?"deno":"browser",browser:!0,env:he?new Proxy({},{get(e,t){return Deno.env.get(String(t))},ownKeys:()=>Reflect.ownKeys(Deno.env.toObject()),getOwnPropertyDescriptor:(e,t)=>{let n=Deno.env.toObject();if(t in Deno.env.toObject()){let r={enumerable:!0,configurable:!0};return typeof t=="string"&&(r.value=n[t]),r}},set(e,t,n){return Deno.env.set(String(t),String(n)),n}}):{},argv:he?Deno.args??[]:[],pid:he?Deno.pid??0:0,version:"v16.18.0",versions:{node:"16.18.0",v8:"9.4.146.26-node.22",uv:"1.43.0",zlib:"1.2.11",brotli:"1.0.9",ares:"1.18.1",modules:"93",nghttp2:"1.47.0",napi:"8",llhttp:"6.0.10",openssl:"1.1.1q+quic",cldr:"41.0",icu:"71.1",tz:"2022b",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0",...he?Deno.version??{}:{}},on:(...e)=>se.on(...e),addListener:(...e)=>se.addListener(...e),once:(...e)=>se.once(...e),off:(...e)=>se.off(...e),removeListener:(...e)=>se.removeListener(...e),removeAllListeners:(...e)=>se.removeAllListeners(...e),emit:(...e)=>se.emit(...e),prependListener:(...e)=>se.prependListener(...e),prependOnceListener:(...e)=>se.prependOnceListener(...e),listeners:()=>[],emitWarning:()=>{throw new Error("process.emitWarning is not supported")},binding:()=>{throw new Error("process.binding is not supported")},cwd:()=>he?Deno.cwd?.()??"/":"/",chdir:e=>{if(he)Deno.chdir(e);else throw new Error("process.chdir is not supported")},umask:()=>he?Deno.umask??0:0,nextTick:(e,...t)=>queueMicrotask(()=>e(...t))};var zr=Object.create,Ct=Object.defineProperty,Zr=Object.getOwnPropertyDescriptor,ei=Object.getOwnPropertyNames,ti=Object.getPrototypeOf,ni=Object.prototype.hasOwnProperty,ri=e=>Ct(e,"__esModule",{value:!0}),$t=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ii=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ei(t))!ni.call(e,r)&&r!=="default"&&Ct(e,r,{get:()=>t[r],enumerable:!(n=Zr(t,r))||n.enumerable});return e},An=e=>ii(ri(Ct(e!=null?zr(ti(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),si=$t(e=>{"use strict";e.byteLength=f,e.toByteArray=b,e.fromByteArray=E;var t=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,c=s.length;a<c;++a)t[a]=s[a],n[s.charCodeAt(a)]=a;var a,c;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63;function l(k){var g=k.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=k.indexOf("=");S===-1&&(S=g);var O=S===g?0:4-S%4;return[S,O]}function f(k){var g=l(k),S=g[0],O=g[1];return(S+O)*3/4-O}function d(k,g,S){return(g+S)*3/4-S}function b(k){var g,S=l(k),O=S[0],I=S[1],T=new r(d(k,O,I)),B=0,x=I>0?O-4:O,p;for(p=0;p<x;p+=4)g=n[k.charCodeAt(p)]<<18|n[k.charCodeAt(p+1)]<<12|n[k.charCodeAt(p+2)]<<6|n[k.charCodeAt(p+3)],T[B++]=g>>16&255,T[B++]=g>>8&255,T[B++]=g&255;return I===2&&(g=n[k.charCodeAt(p)]<<2|n[k.charCodeAt(p+1)]>>4,T[B++]=g&255),I===1&&(g=n[k.charCodeAt(p)]<<10|n[k.charCodeAt(p+1)]<<4|n[k.charCodeAt(p+2)]>>2,T[B++]=g>>8&255,T[B++]=g&255),T}function y(k){return t[k>>18&63]+t[k>>12&63]+t[k>>6&63]+t[k&63]}function w(k,g,S){for(var O,I=[],T=g;T<S;T+=3)O=(k[T]<<16&16711680)+(k[T+1]<<8&65280)+(k[T+2]&255),I.push(y(O));return I.join("")}function E(k){for(var g,S=k.length,O=S%3,I=[],T=16383,B=0,x=S-O;B<x;B+=T)I.push(w(k,B,B+T>x?x:B+T));return O===1?(g=k[S-1],I.push(t[g>>2]+t[g<<4&63]+"==")):O===2&&(g=(k[S-2]<<8)+k[S-1],I.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),I.join("")}}),oi=$t(e=>{e.read=function(t,n,r,s,a){var c,l,f=a*8-s-1,d=(1<<f)-1,b=d>>1,y=-7,w=r?a-1:0,E=r?-1:1,k=t[n+w];for(w+=E,c=k&(1<<-y)-1,k>>=-y,y+=f;y>0;c=c*256+t[n+w],w+=E,y-=8);for(l=c&(1<<-y)-1,c>>=-y,y+=s;y>0;l=l*256+t[n+w],w+=E,y-=8);if(c===0)c=1-b;else{if(c===d)return l?NaN:(k?-1:1)*(1/0);l=l+Math.pow(2,s),c=c-b}return(k?-1:1)*l*Math.pow(2,c-s)},e.write=function(t,n,r,s,a,c){var l,f,d,b=c*8-a-1,y=(1<<b)-1,w=y>>1,E=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=s?0:c-1,g=s?1:-1,S=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,l=y):(l=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+w>=1?n+=E/d:n+=E*Math.pow(2,1-w),n*d>=2&&(l++,d/=2),l+w>=y?(f=0,l=y):l+w>=1?(f=(n*d-1)*Math.pow(2,a),l=l+w):(f=n*Math.pow(2,w-1)*Math.pow(2,a),l=0));a>=8;t[r+k]=f&255,k+=g,f/=256,a-=8);for(l=l<<a|f,b+=a;b>0;t[r+k]=l&255,k+=g,l/=256,b-=8);t[r+k-g]|=S*128}}),On=$t(e=>{"use strict";var t=si(),n=oi(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let i=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(i,o),i.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(i){if(i>s)throw new RangeError('The value "'+i+'" is invalid for option "size"');let o=new Uint8Array(i);return Object.setPrototypeOf(o,l.prototype),o}function l(i,o,u){if(typeof i=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(i)}return f(i,o,u)}l.poolSize=8192;function f(i,o,u){if(typeof i=="string")return w(i,o);if(ArrayBuffer.isView(i))return k(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(ie(i,ArrayBuffer)||i&&ie(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(i,SharedArrayBuffer)||i&&ie(i.buffer,SharedArrayBuffer)))return g(i,o,u);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let h=i.valueOf&&i.valueOf();if(h!=null&&h!==i)return l.from(h,o,u);let m=S(i);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return l.from(i[Symbol.toPrimitive]("string"),o,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}l.from=function(i,o,u){return f(i,o,u)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function b(i,o,u){return d(i),i<=0?c(i):o!==void 0?typeof u=="string"?c(i).fill(o,u):c(i).fill(o):c(i)}l.alloc=function(i,o,u){return b(i,o,u)};function y(i){return d(i),c(i<0?0:O(i)|0)}l.allocUnsafe=function(i){return y(i)},l.allocUnsafeSlow=function(i){return y(i)};function w(i,o){if((typeof o!="string"||o==="")&&(o="utf8"),!l.isEncoding(o))throw new TypeError("Unknown encoding: "+o);let u=T(i,o)|0,h=c(u),m=h.write(i,o);return m!==u&&(h=h.slice(0,m)),h}function E(i){let o=i.length<0?0:O(i.length)|0,u=c(o);for(let h=0;h<o;h+=1)u[h]=i[h]&255;return u}function k(i){if(ie(i,Uint8Array)){let o=new Uint8Array(i);return g(o.buffer,o.byteOffset,o.byteLength)}return E(i)}function g(i,o,u){if(o<0||i.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<o+(u||0))throw new RangeError('"length" is outside of buffer bounds');let h;return o===void 0&&u===void 0?h=new Uint8Array(i):u===void 0?h=new Uint8Array(i,o):h=new Uint8Array(i,o,u),Object.setPrototypeOf(h,l.prototype),h}function S(i){if(l.isBuffer(i)){let o=O(i.length)|0,u=c(o);return u.length===0||i.copy(u,0,0,o),u}if(i.length!==void 0)return typeof i.length!="number"||xt(i.length)?c(0):E(i);if(i.type==="Buffer"&&Array.isArray(i.data))return E(i.data)}function O(i){if(i>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return i|0}function I(i){return+i!=i&&(i=0),l.alloc(+i)}l.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==l.prototype},l.compare=function(i,o){if(ie(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),ie(o,Uint8Array)&&(o=l.from(o,o.offset,o.byteLength)),!l.isBuffer(i)||!l.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let u=i.length,h=o.length;for(let m=0,v=Math.min(u,h);m<v;++m)if(i[m]!==o[m]){u=i[m],h=o[m];break}return u<h?-1:h<u?1:0},l.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return l.alloc(0);let u;if(o===void 0)for(o=0,u=0;u<i.length;++u)o+=i[u].length;let h=l.allocUnsafe(o),m=0;for(u=0;u<i.length;++u){let v=i[u];if(ie(v,Uint8Array))m+v.length>h.length?(l.isBuffer(v)||(v=l.from(v)),v.copy(h,m)):Uint8Array.prototype.set.call(h,v,m);else if(l.isBuffer(v))v.copy(h,m);else throw new TypeError('"list" argument must be an Array of Buffers');m+=v.length}return h};function T(i,o){if(l.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||ie(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let u=i.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&u===0)return 0;let m=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return Bt(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return wn(i).length;default:if(m)return h?-1:Bt(i).length;o=(""+o).toLowerCase(),m=!0}}l.byteLength=T;function B(i,o,u){let h=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,o>>>=0,u<=o))return"";for(i||(i="utf8");;)switch(i){case"hex":return Cr(this,o,u);case"utf8":case"utf-8":return Ue(this,o,u);case"ascii":return xr(this,o,u);case"latin1":case"binary":return _r(this,o,u);case"base64":return z(this,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $r(this,o,u);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),h=!0}}l.prototype._isBuffer=!0;function x(i,o,u){let h=i[o];i[o]=i[u],i[u]=h}l.prototype.swap16=function(){let i=this.length;if(i%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)x(this,o,o+1);return this},l.prototype.swap32=function(){let i=this.length;if(i%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)x(this,o,o+3),x(this,o+1,o+2);return this},l.prototype.swap64=function(){let i=this.length;if(i%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)x(this,o,o+7),x(this,o+1,o+6),x(this,o+2,o+5),x(this,o+3,o+4);return this},l.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?Ue(this,0,i):B.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(i){if(!l.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:l.compare(this,i)===0},l.prototype.inspect=function(){let i="",o=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(i,o,u,h,m){if(ie(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),!l.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),u===void 0&&(u=i?i.length:0),h===void 0&&(h=0),m===void 0&&(m=this.length),o<0||u>i.length||h<0||m>this.length)throw new RangeError("out of range index");if(h>=m&&o>=u)return 0;if(h>=m)return-1;if(o>=u)return 1;if(o>>>=0,u>>>=0,h>>>=0,m>>>=0,this===i)return 0;let v=m-h,N=u-o,D=Math.min(v,N),J=this.slice(h,m),q=i.slice(o,u);for(let R=0;R<D;++R)if(J[R]!==q[R]){v=J[R],N=q[R];break}return v<N?-1:N<v?1:0};function p(i,o,u,h,m){if(i.length===0)return-1;if(typeof u=="string"?(h=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,xt(u)&&(u=m?0:i.length-1),u<0&&(u=i.length+u),u>=i.length){if(m)return-1;u=i.length-1}else if(u<0)if(m)u=0;else return-1;if(typeof o=="string"&&(o=l.from(o,h)),l.isBuffer(o))return o.length===0?-1:A(i,o,u,h,m);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(i,o,u):Uint8Array.prototype.lastIndexOf.call(i,o,u):A(i,[o],u,h,m);throw new TypeError("val must be string, number or Buffer")}function A(i,o,u,h,m){let v=1,N=i.length,D=o.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(i.length<2||o.length<2)return-1;v=2,N/=2,D/=2,u/=2}function J(R,V){return v===1?R[V]:R.readUInt16BE(V*v)}let q;if(m){let R=-1;for(q=u;q<N;q++)if(J(i,q)===J(o,R===-1?0:q-R)){if(R===-1&&(R=q),q-R+1===D)return R*v}else R!==-1&&(q-=q-R),R=-1}else for(u+D>N&&(u=N-D),q=u;q>=0;q--){let R=!0;for(let V=0;V<D;V++)if(J(i,q+V)!==J(o,V)){R=!1;break}if(R)return q}return-1}l.prototype.includes=function(i,o,u){return this.indexOf(i,o,u)!==-1},l.prototype.indexOf=function(i,o,u){return p(this,i,o,u,!0)},l.prototype.lastIndexOf=function(i,o,u){return p(this,i,o,u,!1)};function L(i,o,u,h){u=Number(u)||0;let m=i.length-u;h?(h=Number(h),h>m&&(h=m)):h=m;let v=o.length;h>v/2&&(h=v/2);let N;for(N=0;N<h;++N){let D=parseInt(o.substr(N*2,2),16);if(xt(D))return N;i[u+N]=D}return N}function C(i,o,u,h){return et(Bt(o,i.length-u),i,u,h)}function _(i,o,u,h){return et(Pr(o),i,u,h)}function M(i,o,u,h){return et(wn(o),i,u,h)}function U(i,o,u,h){return et(Dr(o,i.length-u),i,u,h)}l.prototype.write=function(i,o,u,h){if(o===void 0)h="utf8",u=this.length,o=0;else if(u===void 0&&typeof o=="string")h=o,u=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(u)?(u=u>>>0,h===void 0&&(h="utf8")):(h=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let m=this.length-o;if((u===void 0||u>m)&&(u=m),i.length>0&&(u<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let v=!1;for(;;)switch(h){case"hex":return L(this,i,o,u);case"utf8":case"utf-8":return C(this,i,o,u);case"ascii":case"latin1":case"binary":return _(this,i,o,u);case"base64":return M(this,i,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,i,o,u);default:if(v)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),v=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(i,o,u){return o===0&&u===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(o,u))}function Ue(i,o,u){u=Math.min(i.length,u);let h=[],m=o;for(;m<u;){let v=i[m],N=null,D=v>239?4:v>223?3:v>191?2:1;if(m+D<=u){let J,q,R,V;switch(D){case 1:v<128&&(N=v);break;case 2:J=i[m+1],(J&192)==128&&(V=(v&31)<<6|J&63,V>127&&(N=V));break;case 3:J=i[m+1],q=i[m+2],(J&192)==128&&(q&192)==128&&(V=(v&15)<<12|(J&63)<<6|q&63,V>2047&&(V<55296||V>57343)&&(N=V));break;case 4:J=i[m+1],q=i[m+2],R=i[m+3],(J&192)==128&&(q&192)==128&&(R&192)==128&&(V=(v&15)<<18|(J&63)<<12|(q&63)<<6|R&63,V>65535&&V<1114112&&(N=V))}}N===null?(N=65533,D=1):N>65535&&(N-=65536,h.push(N>>>10&1023|55296),N=56320|N&1023),h.push(N),m+=D}return Br(h)}var Ze=4096;function Br(i){let o=i.length;if(o<=Ze)return String.fromCharCode.apply(String,i);let u="",h=0;for(;h<o;)u+=String.fromCharCode.apply(String,i.slice(h,h+=Ze));return u}function xr(i,o,u){let h="";u=Math.min(i.length,u);for(let m=o;m<u;++m)h+=String.fromCharCode(i[m]&127);return h}function _r(i,o,u){let h="";u=Math.min(i.length,u);for(let m=o;m<u;++m)h+=String.fromCharCode(i[m]);return h}function Cr(i,o,u){let h=i.length;(!o||o<0)&&(o=0),(!u||u<0||u>h)&&(u=h);let m="";for(let v=o;v<u;++v)m+=Rr[i[v]];return m}function $r(i,o,u){let h=i.slice(o,u),m="";for(let v=0;v<h.length-1;v+=2)m+=String.fromCharCode(h[v]+h[v+1]*256);return m}l.prototype.slice=function(i,o){let u=this.length;i=~~i,o=o===void 0?u:~~o,i<0?(i+=u,i<0&&(i=0)):i>u&&(i=u),o<0?(o+=u,o<0&&(o=0)):o>u&&(o=u),o<i&&(o=i);let h=this.subarray(i,o);return Object.setPrototypeOf(h,l.prototype),h};function W(i,o,u){if(i%1!=0||i<0)throw new RangeError("offset is not uint");if(i+o>u)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(i,o,u){i=i>>>0,o=o>>>0,u||W(i,o,this.length);let h=this[i],m=1,v=0;for(;++v<o&&(m*=256);)h+=this[i+v]*m;return h},l.prototype.readUintBE=l.prototype.readUIntBE=function(i,o,u){i=i>>>0,o=o>>>0,u||W(i,o,this.length);let h=this[i+--o],m=1;for(;o>0&&(m*=256);)h+=this[i+--o]*m;return h},l.prototype.readUint8=l.prototype.readUInt8=function(i,o){return i=i>>>0,o||W(i,1,this.length),this[i]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||W(i,2,this.length),this[i]|this[i+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||W(i,2,this.length),this[i]<<8|this[i+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||W(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||W(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},l.prototype.readBigUInt64LE=fe(function(i){i=i>>>0,Ae(i,"offset");let o=this[i],u=this[i+7];(o===void 0||u===void 0)&&Pe(i,this.length-8);let h=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,m=this[++i]+this[++i]*2**8+this[++i]*2**16+u*2**24;return BigInt(h)+(BigInt(m)<<BigInt(32))}),l.prototype.readBigUInt64BE=fe(function(i){i=i>>>0,Ae(i,"offset");let o=this[i],u=this[i+7];(o===void 0||u===void 0)&&Pe(i,this.length-8);let h=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],m=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+u;return(BigInt(h)<<BigInt(32))+BigInt(m)}),l.prototype.readIntLE=function(i,o,u){i=i>>>0,o=o>>>0,u||W(i,o,this.length);let h=this[i],m=1,v=0;for(;++v<o&&(m*=256);)h+=this[i+v]*m;return m*=128,h>=m&&(h-=Math.pow(2,8*o)),h},l.prototype.readIntBE=function(i,o,u){i=i>>>0,o=o>>>0,u||W(i,o,this.length);let h=o,m=1,v=this[i+--h];for(;h>0&&(m*=256);)v+=this[i+--h]*m;return m*=128,v>=m&&(v-=Math.pow(2,8*o)),v},l.prototype.readInt8=function(i,o){return i=i>>>0,o||W(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},l.prototype.readInt16LE=function(i,o){i=i>>>0,o||W(i,2,this.length);let u=this[i]|this[i+1]<<8;return u&32768?u|4294901760:u},l.prototype.readInt16BE=function(i,o){i=i>>>0,o||W(i,2,this.length);let u=this[i+1]|this[i]<<8;return u&32768?u|4294901760:u},l.prototype.readInt32LE=function(i,o){return i=i>>>0,o||W(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},l.prototype.readInt32BE=function(i,o){return i=i>>>0,o||W(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},l.prototype.readBigInt64LE=fe(function(i){i=i>>>0,Ae(i,"offset");let o=this[i],u=this[i+7];(o===void 0||u===void 0)&&Pe(i,this.length-8);let h=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(u<<24);return(BigInt(h)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),l.prototype.readBigInt64BE=fe(function(i){i=i>>>0,Ae(i,"offset");let o=this[i],u=this[i+7];(o===void 0||u===void 0)&&Pe(i,this.length-8);let h=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(h)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+u)}),l.prototype.readFloatLE=function(i,o){return i=i>>>0,o||W(i,4,this.length),n.read(this,i,!0,23,4)},l.prototype.readFloatBE=function(i,o){return i=i>>>0,o||W(i,4,this.length),n.read(this,i,!1,23,4)},l.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||W(i,8,this.length),n.read(this,i,!0,52,8)},l.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||W(i,8,this.length),n.read(this,i,!1,52,8)};function Q(i,o,u,h,m,v){if(!l.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>m||o<v)throw new RangeError('"value" argument is out of bounds');if(u+h>i.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(i,o,u,h){if(i=+i,o=o>>>0,u=u>>>0,!h){let N=Math.pow(2,8*u)-1;Q(this,i,o,u,N,0)}let m=1,v=0;for(this[o]=i&255;++v<u&&(m*=256);)this[o+v]=i/m&255;return o+u},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(i,o,u,h){if(i=+i,o=o>>>0,u=u>>>0,!h){let N=Math.pow(2,8*u)-1;Q(this,i,o,u,N,0)}let m=u-1,v=1;for(this[o+m]=i&255;--m>=0&&(v*=256);)this[o+m]=i/v&255;return o+u},l.prototype.writeUint8=l.prototype.writeUInt8=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,1,255,0),this[o]=i&255,o+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function hn(i,o,u,h,m){bn(o,h,m,i,u,7);let v=Number(o&BigInt(4294967295));i[u++]=v,v=v>>8,i[u++]=v,v=v>>8,i[u++]=v,v=v>>8,i[u++]=v;let N=Number(o>>BigInt(32)&BigInt(4294967295));return i[u++]=N,N=N>>8,i[u++]=N,N=N>>8,i[u++]=N,N=N>>8,i[u++]=N,u}function pn(i,o,u,h,m){bn(o,h,m,i,u,7);let v=Number(o&BigInt(4294967295));i[u+7]=v,v=v>>8,i[u+6]=v,v=v>>8,i[u+5]=v,v=v>>8,i[u+4]=v;let N=Number(o>>BigInt(32)&BigInt(4294967295));return i[u+3]=N,N=N>>8,i[u+2]=N,N=N>>8,i[u+1]=N,N=N>>8,i[u]=N,u+8}l.prototype.writeBigUInt64LE=fe(function(i,o=0){return hn(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=fe(function(i,o=0){return pn(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(i,o,u,h){if(i=+i,o=o>>>0,!h){let D=Math.pow(2,8*u-1);Q(this,i,o,u,D-1,-D)}let m=0,v=1,N=0;for(this[o]=i&255;++m<u&&(v*=256);)i<0&&N===0&&this[o+m-1]!==0&&(N=1),this[o+m]=(i/v>>0)-N&255;return o+u},l.prototype.writeIntBE=function(i,o,u,h){if(i=+i,o=o>>>0,!h){let D=Math.pow(2,8*u-1);Q(this,i,o,u,D-1,-D)}let m=u-1,v=1,N=0;for(this[o+m]=i&255;--m>=0&&(v*=256);)i<0&&N===0&&this[o+m+1]!==0&&(N=1),this[o+m]=(i/v>>0)-N&255;return o+u},l.prototype.writeInt8=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},l.prototype.writeInt16LE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeInt16BE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeInt32LE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},l.prototype.writeInt32BE=function(i,o,u){return i=+i,o=o>>>0,u||Q(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},l.prototype.writeBigInt64LE=fe(function(i,o=0){return hn(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=fe(function(i,o=0){return pn(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dn(i,o,u,h,m,v){if(u+h>i.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function mn(i,o,u,h,m){return o=+o,u=u>>>0,m||dn(i,o,u,4,34028234663852886e22,-34028234663852886e22),n.write(i,o,u,h,23,4),u+4}l.prototype.writeFloatLE=function(i,o,u){return mn(this,i,o,!0,u)},l.prototype.writeFloatBE=function(i,o,u){return mn(this,i,o,!1,u)};function yn(i,o,u,h,m){return o=+o,u=u>>>0,m||dn(i,o,u,8,17976931348623157e292,-17976931348623157e292),n.write(i,o,u,h,52,8),u+8}l.prototype.writeDoubleLE=function(i,o,u){return yn(this,i,o,!0,u)},l.prototype.writeDoubleBE=function(i,o,u){return yn(this,i,o,!1,u)},l.prototype.copy=function(i,o,u,h){if(!l.isBuffer(i))throw new TypeError("argument should be a Buffer");if(u||(u=0),!h&&h!==0&&(h=this.length),o>=i.length&&(o=i.length),o||(o=0),h>0&&h<u&&(h=u),h===u||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),i.length-o<h-u&&(h=i.length-o+u);let m=h-u;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,u,h):Uint8Array.prototype.set.call(i,this.subarray(u,h),o),m},l.prototype.fill=function(i,o,u,h){if(typeof i=="string"){if(typeof o=="string"?(h=o,o=0,u=this.length):typeof u=="string"&&(h=u,u=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!l.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(i.length===1){let v=i.charCodeAt(0);(h==="utf8"&&v<128||h==="latin1")&&(i=v)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<u)throw new RangeError("Out of range index");if(u<=o)return this;o=o>>>0,u=u===void 0?this.length:u>>>0,i||(i=0);let m;if(typeof i=="number")for(m=o;m<u;++m)this[m]=i;else{let v=l.isBuffer(i)?i:l.from(i,h),N=v.length;if(N===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(m=0;m<u-o;++m)this[m+o]=v[m%N]}return this};var Se={};function Tt(i,o,u){Se[i]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}Tt("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Tt("ERR_INVALID_ARG_TYPE",function(i,o){return`The "${i}" argument must be of type number. Received type ${typeof o}`},TypeError),Tt("ERR_OUT_OF_RANGE",function(i,o,u){let h=`The value of "${i}" is out of range.`,m=u;return Number.isInteger(u)&&Math.abs(u)>2**32?m=gn(String(u)):typeof u=="bigint"&&(m=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(m=gn(m)),m+="n"),h+=` It must be ${o}. Received ${m}`,h},RangeError);function gn(i){let o="",u=i.length,h=i[0]==="-"?1:0;for(;u>=h+4;u-=3)o=`_${i.slice(u-3,u)}${o}`;return`${i.slice(0,u)}${o}`}function Mr(i,o,u){Ae(o,"offset"),(i[o]===void 0||i[o+u]===void 0)&&Pe(o,i.length-(u+1))}function bn(i,o,u,h,m,v){if(i>u||i<o){let N=typeof o=="bigint"?"n":"",D;throw v>3?o===0||o===BigInt(0)?D=`>= 0${N} and < 2${N} ** ${(v+1)*8}${N}`:D=`>= -(2${N} ** ${(v+1)*8-1}${N}) and < 2 ** ${(v+1)*8-1}${N}`:D=`>= ${o}${N} and <= ${u}${N}`,new Se.ERR_OUT_OF_RANGE("value",D,i)}Mr(h,m,v)}function Ae(i,o){if(typeof i!="number")throw new Se.ERR_INVALID_ARG_TYPE(o,"number",i)}function Pe(i,o,u){throw Math.floor(i)!==i?(Ae(i,u),new Se.ERR_OUT_OF_RANGE(u||"offset","an integer",i)):o<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${o}`,i)}var jr=/[^+/0-9A-Za-z-_]/g;function Ur(i){if(i=i.split("=")[0],i=i.trim().replace(jr,""),i.length<2)return"";for(;i.length%4!=0;)i=i+"=";return i}function Bt(i,o){o=o||1/0;let u,h=i.length,m=null,v=[];for(let N=0;N<h;++N){if(u=i.charCodeAt(N),u>55295&&u<57344){if(!m){if(u>56319){(o-=3)>-1&&v.push(239,191,189);continue}else if(N+1===h){(o-=3)>-1&&v.push(239,191,189);continue}m=u;continue}if(u<56320){(o-=3)>-1&&v.push(239,191,189),m=u;continue}u=(m-55296<<10|u-56320)+65536}else m&&(o-=3)>-1&&v.push(239,191,189);if(m=null,u<128){if((o-=1)<0)break;v.push(u)}else if(u<2048){if((o-=2)<0)break;v.push(u>>6|192,u&63|128)}else if(u<65536){if((o-=3)<0)break;v.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((o-=4)<0)break;v.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return v}function Pr(i){let o=[];for(let u=0;u<i.length;++u)o.push(i.charCodeAt(u)&255);return o}function Dr(i,o){let u,h,m,v=[];for(let N=0;N<i.length&&!((o-=2)<0);++N)u=i.charCodeAt(N),h=u>>8,m=u%256,v.push(m),v.push(h);return v}function wn(i){return t.toByteArray(Ur(i))}function et(i,o,u,h){let m;for(m=0;m<h&&!(m+u>=o.length||m>=i.length);++m)o[m+u]=i[m];return m}function ie(i,o){return i instanceof o||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===o.name}function xt(i){return i!==i}var Rr=function(){let i="0123456789abcdef",o=new Array(256);for(let u=0;u<16;++u){let h=u*16;for(let m=0;m<16;++m)o[h+m]=i[u]+i[m]}return o}();function fe(i){return typeof BigInt>"u"?Kr:i}function Kr(){throw new Error("BigInt not supported")}}),ai=An(On()),li=An(On()),{Buffer:Oe,SlowBuffer:Ns,INSPECT_MAX_BYTES:Ls,kMaxLength:Is}=ai,Ts=li.default;var ci=Object.defineProperty,Jt=(e,t)=>{for(var n in t)ci(e,n,{get:t[n],enumerable:!0})},Pn={};Jt(Pn,{Alias:()=>Qe,CST:()=>ln,Composer:()=>At,Document:()=>je,Lexer:()=>cn,LineCounter:()=>un,Pair:()=>G,Parser:()=>It,Scalar:()=>$,Schema:()=>Et,YAMLError:()=>St,YAMLMap:()=>Z,YAMLParseError:()=>de,YAMLSeq:()=>be,YAMLWarning:()=>on,default:()=>gs,isAlias:()=>ye,isCollection:()=>F,isDocument:()=>Ce,isMap:()=>ge,isNode:()=>Y,isPair:()=>K,isScalar:()=>P,isSeq:()=>Ee,parse:()=>Ir,parseAllDocuments:()=>Lr,parseDocument:()=>fn,stringify:()=>Tr,visit:()=>ue,visitAsync:()=>Ge});var Dn={};Jt(Dn,{Alias:()=>Qe,CST:()=>ln,Composer:()=>At,Document:()=>je,Lexer:()=>cn,LineCounter:()=>un,Pair:()=>G,Parser:()=>It,Scalar:()=>$,Schema:()=>Et,YAMLError:()=>St,YAMLMap:()=>Z,YAMLParseError:()=>de,YAMLSeq:()=>be,YAMLWarning:()=>on,isAlias:()=>ye,isCollection:()=>F,isDocument:()=>Ce,isMap:()=>ge,isNode:()=>Y,isPair:()=>K,isScalar:()=>P,isSeq:()=>Ee,parse:()=>Ir,parseAllDocuments:()=>Lr,parseDocument:()=>fn,stringify:()=>Tr,visit:()=>ue,visitAsync:()=>Ge});var Gt=Symbol.for("yaml.alias"),qt=Symbol.for("yaml.document"),me=Symbol.for("yaml.map"),Rn=Symbol.for("yaml.pair"),ce=Symbol.for("yaml.scalar"),_e=Symbol.for("yaml.seq"),te=Symbol.for("yaml.node.type"),ye=e=>!!e&&typeof e=="object"&&e[te]===Gt,Ce=e=>!!e&&typeof e=="object"&&e[te]===qt,ge=e=>!!e&&typeof e=="object"&&e[te]===me,K=e=>!!e&&typeof e=="object"&&e[te]===Rn,P=e=>!!e&&typeof e=="object"&&e[te]===ce,Ee=e=>!!e&&typeof e=="object"&&e[te]===_e;function F(e){if(e&&typeof e=="object")switch(e[te]){case me:case _e:return!0}return!1}function Y(e){if(e&&typeof e=="object")switch(e[te]){case Gt:case me:case ce:case _e:return!0}return!1}var ui=e=>(P(e)||F(e))&&!!e.anchor,Qt=class{constructor(e){Object.defineProperty(this,te,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}},X=Symbol("break visit"),Kn=Symbol("skip children"),oe=Symbol("remove node");function ue(e,t){let n=qn(t);Ce(e)?Ie(null,e.contents,n,Object.freeze([e]))===oe&&(e.contents=null):Ie(null,e,n,Object.freeze([]))}ue.BREAK=X;ue.SKIP=Kn;ue.REMOVE=oe;function Ie(e,t,n,r){let s=Fn(e,t,n,r);if(Y(s)||K(s))return Yn(e,r,s),Ie(e,s,n,r);if(typeof s!="symbol"){if(F(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){let c=Ie(a,t.items[a],n,r);if(typeof c=="number")a=c-1;else{if(c===X)return X;c===oe&&(t.items.splice(a,1),a-=1)}}}else if(K(t)){r=Object.freeze(r.concat(t));let a=Ie("key",t.key,n,r);if(a===X)return X;a===oe&&(t.key=null);let c=Ie("value",t.value,n,r);if(c===X)return X;c===oe&&(t.value=null)}}return s}async function Ge(e,t){let n=qn(t);Ce(e)?await Te(null,e.contents,n,Object.freeze([e]))===oe&&(e.contents=null):await Te(null,e,n,Object.freeze([]))}Ge.BREAK=X;Ge.SKIP=Kn;Ge.REMOVE=oe;async function Te(e,t,n,r){let s=await Fn(e,t,n,r);if(Y(s)||K(s))return Yn(e,r,s),Te(e,s,n,r);if(typeof s!="symbol"){if(F(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){let c=await Te(a,t.items[a],n,r);if(typeof c=="number")a=c-1;else{if(c===X)return X;c===oe&&(t.items.splice(a,1),a-=1)}}}else if(K(t)){r=Object.freeze(r.concat(t));let a=await Te("key",t.key,n,r);if(a===X)return X;a===oe&&(t.key=null);let c=await Te("value",t.value,n,r);if(c===X)return X;c===oe&&(t.value=null)}}return s}function qn(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Fn(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(ge(t))return n.Map?.(e,t,r);if(Ee(t))return n.Seq?.(e,t,r);if(K(t))return n.Pair?.(e,t,r);if(P(t))return n.Scalar?.(e,t,r);if(ye(t))return n.Alias?.(e,t,r)}function Yn(e,t,n){let r=t[t.length-1];if(F(r))r.items[e]=n;else if(K(r))e==="key"?r.key=n:r.value=n;else if(Ce(r))r.contents=n;else{let s=ye(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}var fi={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},hi=e=>e.replace(/[!,[\]{}]/g,t=>fi[t]),H=class{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},H.defaultYaml,e),this.tags=Object.assign({},H.defaultTags,t)}clone(){let e=new H(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new H(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:H.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},H.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:H.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},H.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,a]=n;return this.tags[s]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let a=/^\d+\.\d+$/.test(s);return t(6,`Unsupported YAML version ${s}`,a),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let a=e.slice(2,-1);return a==="!"||a==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),a)}let[,n,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);let s=this.tags[n];return s?s+decodeURIComponent(r):n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+hi(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),r;if(e&&n.length>0&&Y(e.contents)){let s={};ue(e.contents,(a,c)=>{Y(c)&&c.tag&&(s[c.tag]=!0)}),r=Object.keys(s)}else r=[];for(let[s,a]of n)s==="!!"&&a==="tag:yaml.org,2002:"||(!e||r.some(c=>c.startsWith(a)))&&t.push(`%TAG ${s} ${a}`);return t.join(`
`)}};H.defaultYaml={explicit:!1,version:"1.2"};H.defaultTags={"!!":"tag:yaml.org,2002:"};function Vn(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(t)}return!0}function Wn(e){let t=new Set;return ue(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Jn(e,t){for(let n=1;;++n){let r=`${e}${n}`;if(!t.has(r))return r}}function pi(e,t){let n=[],r=new Map,s=null;return{onAnchor:a=>{n.push(a),s||(s=Wn(e));let c=Jn(t,s);return s.add(c),c},setAnchors:()=>{for(let a of n){let c=r.get(a);if(typeof c=="object"&&c.anchor&&(P(c.node)||F(c.node)))c.node.anchor=c.anchor;else{let l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=a,l}}},sourceObjects:r}}var Qe=class extends Qt{constructor(e){super(Gt),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return ue(e,{Node:(n,r)=>{if(r===this)return ue.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};let{anchors:n,doc:r,maxAliasCount:s}=t,a=this.resolve(r);if(!a){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let c=n.get(a);if(!c||c.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=st(r,a,n)),c.count*c.aliasCount>s)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return c.res}toString(e,t,n){let r=`*${this.source}`;if(e){if(Vn(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${r} `}return r}};function st(e,t,n){if(ye(t)){let r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(F(t)){let r=0;for(let s of t.items){let a=st(e,s,n);a>r&&(r=a)}return r}else if(K(t)){let r=st(e,t.key,n),s=st(e,t.value,n);return Math.max(r,s)}return 1}function ae(e,t,n){if(Array.isArray(e))return e.map((r,s)=>ae(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!ui(e))return e.toJSON(t,n);let r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};let s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!n?.keep?Number(e):e}var Gn=e=>!e||typeof e!="function"&&typeof e!="object",$=class extends Qt{constructor(e){super(ce),this.value=e}toJSON(e,t){return t?.keep?this.value:ae(this.value,e,t)}toString(){return String(this.value)}};$.BLOCK_FOLDED="BLOCK_FOLDED";$.BLOCK_LITERAL="BLOCK_LITERAL";$.PLAIN="PLAIN";$.QUOTE_DOUBLE="QUOTE_DOUBLE";$.QUOTE_SINGLE="QUOTE_SINGLE";var di="tag:yaml.org,2002:";function mi(e,t,n){if(t){let r=n.filter(a=>a.tag===t),s=r.find(a=>!a.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>r.identify?.(e)&&!r.format)}function Ve(e,t,n){if(Ce(e)&&(e=e.contents),Y(e))return e;if(K(e)){let y=n.schema[me].createNode?.(n.schema,null,n);return y.items.push(e),y}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:r,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=n,f;if(r&&e&&typeof e=="object"){if(f=l.get(e),f)return f.anchor||(f.anchor=s(e)),new Qe(f.anchor);f={anchor:null,node:null},l.set(e,f)}t?.startsWith("!!")&&(t=di+t.slice(2));let d=mi(e,t,c.tags);if(!d){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let y=new $(e);return f&&(f.node=y),y}d=e instanceof Map?c[me]:Symbol.iterator in Object(e)?c[_e]:c[me]}a&&(a(d),delete n.onTagObj);let b=d?.createNode?d.createNode(n.schema,e,n):new $(e);return t&&(b.tag=t),f&&(f.node=b),b}function ct(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){let a=t[s];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){let c=[];c[a]=r,r=c}else r=new Map([[a,r]])}return Ve(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var Re=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,pt=class extends Qt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>Y(n)||K(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Re(e))this.add(t);else{let[n,...r]=e,s=this.get(n,!0);if(F(s))s.addIn(r,t);else if(s===void 0&&this.schema)this.set(n,ct(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}deleteIn(e){let[t,...n]=e;if(n.length===0)return this.delete(t);let r=this.get(t,!0);if(F(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){let[n,...r]=e,s=this.get(n,!0);return r.length===0?!t&&P(s)?s.value:s:F(s)?s.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!K(t))return!1;let n=t.value;return n==null||e&&P(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[t,...n]=e;if(n.length===0)return this.has(t);let r=this.get(t,!0);return F(r)?r.hasIn(n):!1}setIn(e,t){let[n,...r]=e;if(r.length===0)this.set(n,t);else{let s=this.get(n,!0);if(F(s))s.setIn(r,t);else if(s===void 0&&this.schema)this.set(n,ct(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}};pt.maxFlowStringSingleLineLength=60;var yi=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function le(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var pe=(e,t,n)=>e.endsWith(`
`)?le(n,t):n.includes(`
`)?`
`+le(n,t):(e.endsWith(" ")?"":" ")+n,Qn="flow",Ft="block",ot="quoted";function dt(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:a=20,onFold:c,onOverflow:l}={}){if(!s||s<0)return e;let f=Math.max(1+a,1+s-t.length);if(e.length<=f)return e;let d=[],b={},y=s-t.length;typeof r=="number"&&(r>s-Math.max(2,a)?d.push(0):y=s-r);let w,E,k=!1,g=-1,S=-1,O=-1;n===Ft&&(g=Nn(e,g),g!==-1&&(y=g+f));for(let T;T=e[g+=1];){if(n===ot&&T==="\\"){switch(S=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}O=g}if(T===`
`)n===Ft&&(g=Nn(e,g)),y=g+f,w=void 0;else{if(T===" "&&E&&E!==" "&&E!==`
`&&E!=="	"){let B=e[g+1];B&&B!==" "&&B!==`
`&&B!=="	"&&(w=g)}if(g>=y)if(w)d.push(w),y=w+f,w=void 0;else if(n===ot){for(;E===" "||E==="	";)E=T,T=e[g+=1],k=!0;let B=g>O+1?g-2:S-1;if(b[B])return e;d.push(B),b[B]=!0,y=B+f,w=void 0}else k=!0}E=T}if(k&&l&&l(),d.length===0)return e;c&&c();let I=e.slice(0,d[0]);for(let T=0;T<d.length;++T){let B=d[T],x=d[T+1]||e.length;B===0?I=`
${t}${e.slice(0,x)}`:(n===ot&&b[B]&&(I+=`${e[B]}\\`),I+=`
${t}${e.slice(B+1,x)}`)}return I}function Nn(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}var mt=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),yt=e=>/^(%|---|\.\.\.)/m.test(e);function gi(e,t,n){if(!t||t<0)return!1;let r=t-n,s=e.length;if(s<=r)return!1;for(let a=0,c=0;a<s;++a)if(e[a]===`
`){if(a-c>r)return!0;if(c=a+1,s-c<=r)return!1}return!0}function qe(e,t){let n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;let{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(yt(e)?"  ":""),c="",l=0;for(let f=0,d=n[f];d;d=n[++f])if(d===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(c+=n.slice(l,f)+"\\ ",f+=1,l=f,d="\\"),d==="\\")switch(n[f+1]){case"u":{c+=n.slice(l,f);let b=n.substr(f+2,4);switch(b){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:b.substr(0,2)==="00"?c+="\\x"+b.substr(2):c+=n.substr(f,6)}f+=5,l=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<s)f+=1;else{for(c+=n.slice(l,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)c+=`
`,f+=2;c+=a,n[f+2]===" "&&(c+="\\"),f+=1,l=f+1}break;default:f+=1}return c=l?c+n.slice(l):n,r?c:dt(c,a,ot,mt(t))}function Yt(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return qe(e,t);let n=t.indent||(yt(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:dt(r,n,Qn,mt(t))}function Be(e,t){let{singleQuote:n}=t.options,r;if(n===!1)r=qe;else{let s=e.includes('"'),a=e.includes("'");s&&!a?r=Yt:a&&!s?r=qe:r=n?Yt:qe}return r(e,t)}function at({comment:e,type:t,value:n},r,s,a){let{blockQuote:c,commentString:l,lineWidth:f}=r.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Be(n,r);let d=r.indent||(r.forceBlockIndent||yt(n)?"  ":""),b=c==="literal"?!0:c==="folded"||t===$.BLOCK_FOLDED?!1:t===$.BLOCK_LITERAL?!0:!gi(n,f,d.length);if(!n)return b?`|
`:`>
`;let y,w;for(w=n.length;w>0;--w){let x=n[w-1];if(x!==`
`&&x!=="	"&&x!==" ")break}let E=n.substring(w),k=E.indexOf(`
`);k===-1?y="-":n===E||k!==E.length-1?(y="+",a&&a()):y="",E&&(n=n.slice(0,-E.length),E[E.length-1]===`
`&&(E=E.slice(0,-1)),E=E.replace(/\n+(?!\n|$)/g,`$&${d}`));let g=!1,S,O=-1;for(S=0;S<n.length;++S){let x=n[S];if(x===" ")g=!0;else if(x===`
`)O=S;else break}let I=n.substring(0,O<S?O+1:S);I&&(n=n.substring(I.length),I=I.replace(/\n+/g,`$&${d}`));let T=(b?"|":">")+(g?d?"2":"1":"")+y;if(e&&(T+=" "+l(e.replace(/ ?[\r\n]+/g," ")),s&&s()),b)return n=n.replace(/\n+/g,`$&${d}`),`${T}
${d}${I}${n}${E}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);let B=dt(`${I}${n}${E}`,d,Ft,mt(r));return`${T}
${d}${B}`}function bi(e,t,n,r){let{type:s,value:a}=e,{actualString:c,implicitKey:l,indent:f,indentStep:d,inFlow:b}=t;if(l&&/[\n[\]{},]/.test(a)||b&&/[[\]{},]/.test(a))return Be(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||b||!a.includes(`
`)?Be(a,t):at(e,t,n,r);if(!l&&!b&&s!==$.PLAIN&&a.includes(`
`))return at(e,t,n,r);if(yt(a)){if(f==="")return t.forceBlockIndent=!0,at(e,t,n,r);if(l&&f===d)return Be(a,t)}let y=a.replace(/\n+/g,`$&
${f}`);if(c){let w=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(y),{compat:E,tags:k}=t.doc.schema;if(k.some(w)||E?.some(w))return Be(a,t)}return l?y:dt(y,f,Qn,mt(t))}function He(e,t,n,r){let{implicitKey:s,inFlow:a}=t,c=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:l}=e;l!==$.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)&&(l=$.QUOTE_DOUBLE);let f=b=>{switch(b){case $.BLOCK_FOLDED:case $.BLOCK_LITERAL:return s||a?Be(c.value,t):at(c,t,n,r);case $.QUOTE_DOUBLE:return qe(c.value,t);case $.QUOTE_SINGLE:return Yt(c.value,t);case $.PLAIN:return bi(c,t,n,r);default:return null}},d=f(l);if(d===null){let{defaultKeyType:b,defaultStringType:y}=t.options,w=s&&b||y;if(d=f(w),d===null)throw new Error(`Unsupported default string type ${w}`)}return d}function Hn(e,t){let n=Object.assign({blockQuote:!0,commentString:yi,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function wi(e,t){if(t.tag){let s=e.filter(a=>a.tag===t.tag);if(s.length>0)return s.find(a=>a.format===t.format)??s[0]}let n,r;if(P(t)){r=t.value;let s=e.filter(a=>a.identify?.(r));n=s.find(a=>a.format===t.format)??s.find(a=>!a.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){let s=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${s} value`)}return n}function vi(e,t,{anchors:n,doc:r}){if(!r.directives)return"";let s=[],a=(P(e)||F(e))&&e.anchor;a&&Vn(a)&&(n.add(a),s.push(`&${a}`));let c=e.tag?e.tag:t.default?null:t.tag;return c&&s.push(r.directives.tagString(c)),s.join(" ")}function ve(e,t,n,r){if(K(e))return e.toString(t,n,r);if(ye(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s,a=Y(e)?e:t.doc.createNode(e,{onTagObj:f=>s=f});s||(s=wi(t.doc.schema.tags,a));let c=vi(a,s,t);c.length>0&&(t.indentAtStart=(t.indentAtStart??0)+c.length+1);let l=typeof s.stringify=="function"?s.stringify(a,t,n,r):P(a)?He(a,t,n,r):a.toString(t,n,r);return c?P(a)||l[0]==="{"||l[0]==="["?`${c} ${l}`:`${c}
${t.indent}${l}`:l}function ki({key:e,value:t},n,r,s){let{allNullValues:a,doc:c,indent:l,indentStep:f,options:{commentString:d,indentSeq:b,simpleKeys:y}}=n,w=Y(e)&&e.comment||null;if(y){if(w)throw new Error("With simple keys, key nodes cannot have comments");if(F(e)){let A="With simple keys, collection cannot be used as a key value";throw new Error(A)}}let E=!y&&(!e||w&&t==null&&!n.inFlow||F(e)||(P(e)?e.type===$.BLOCK_FOLDED||e.type===$.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!E&&(y||!a),indent:l+f});let k=!1,g=!1,S=ve(e,n,()=>k=!0,()=>g=!0);if(!E&&!n.inFlow&&S.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");E=!0}if(n.inFlow){if(a||t==null)return k&&r&&r(),S===""?"?":E?`? ${S}`:S}else if(a&&!y||t==null&&E)return S=`? ${S}`,w&&!k?S+=pe(S,n.indent,d(w)):g&&s&&s(),S;k&&(w=null),E?(w&&(S+=pe(S,n.indent,d(w))),S=`? ${S}
${l}:`):(S=`${S}:`,w&&(S+=pe(S,n.indent,d(w))));let O,I,T;Y(t)?(O=!!t.spaceBefore,I=t.commentBefore,T=t.comment):(O=!1,I=null,T=null,t&&typeof t=="object"&&(t=c.createNode(t))),n.implicitKey=!1,!E&&!w&&P(t)&&(n.indentAtStart=S.length+1),g=!1,!b&&f.length>=2&&!n.inFlow&&!E&&Ee(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let B=!1,x=ve(t,n,()=>B=!0,()=>g=!0),p=" ";if(w||O||I){if(p=O?`
`:"",I){let A=d(I);p+=`
${le(A,n.indent)}`}x===""&&!n.inFlow?p===`
`&&(p=`

`):p+=`
${n.indent}`}else if(!E&&F(t)){let A=x[0],L=x.indexOf(`
`),C=L!==-1,_=n.inFlow??t.flow??t.items.length===0;if(C||!_){let M=!1;if(C&&(A==="&"||A==="!")){let U=x.indexOf(" ");A==="&"&&U!==-1&&U<L&&x[U+1]==="!"&&(U=x.indexOf(" ",U+1)),(U===-1||L<U)&&(M=!0)}M||(p=`
${n.indent}`)}}else(x===""||x[0]===`
`)&&(p="");return S+=p+x,n.inFlow?B&&r&&r():T&&!B?S+=pe(S,n.indent,d(T)):g&&s&&s(),S}function Xn(e,t){(e==="debug"||e==="warn")&&(typeof tt<"u"&&tt.emitWarning?tt.emitWarning(t):console.warn(t))}var Ln="<<";function zn(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&Ei(n))if(r=ye(r)?r.resolve(e.doc):r,Ee(r))for(let s of r.items)Mt(e,t,s);else if(Array.isArray(r))for(let s of r)Mt(e,t,s);else Mt(e,t,r);else{let s=ae(n,"",e);if(t instanceof Map)t.set(s,ae(r,s,e));else if(t instanceof Set)t.add(s);else{let a=Si(n,s,e),c=ae(r,a,e);a in t?Object.defineProperty(t,a,{value:c,writable:!0,enumerable:!0,configurable:!0}):t[a]=c}}return t}var Ei=e=>e===Ln||P(e)&&e.value===Ln&&(!e.type||e.type===$.PLAIN);function Mt(e,t,n){let r=e&&ye(n)?n.resolve(e.doc):n;if(!ge(r))throw new Error("Merge sources must be maps or map aliases");let s=r.toJSON(null,e,Map);for(let[a,c]of s)t instanceof Map?t.has(a)||t.set(a,c):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:c,writable:!0,enumerable:!0,configurable:!0});return t}function Si(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Y(e)&&n&&n.doc){let r=Hn(n.doc,{});r.anchors=new Set;for(let a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;let s=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(s);a.length>40&&(a=a.substring(0,36)+'..."'),Xn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Ht(e,t,n){let r=Ve(e,void 0,n),s=Ve(t,void 0,n);return new G(r,s)}var G=class{constructor(e,t=null){Object.defineProperty(this,te,{value:Rn}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Y(t)&&(t=t.clone(e)),Y(n)&&(n=n.clone(e)),new G(t,n)}toJSON(e,t){let n=t?.mapAsMap?new Map:{};return zn(t,n,this)}toString(e,t,n){return e?.doc?ki(this,e,t,n):JSON.stringify(this)}};function Zn(e,t,n){return(t.inFlow??e.flow?Oi:Ai)(e,t,n)}function Ai({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:a,onChompKeep:c,onComment:l}){let{indent:f,options:{commentString:d}}=n,b=Object.assign({},n,{indent:a,type:null}),y=!1,w=[];for(let k=0;k<t.length;++k){let g=t[k],S=null;if(Y(g))!y&&g.spaceBefore&&w.push(""),ut(n,w,g.commentBefore,y),g.comment&&(S=g.comment);else if(K(g)){let I=Y(g.key)?g.key:null;I&&(!y&&I.spaceBefore&&w.push(""),ut(n,w,I.commentBefore,y))}y=!1;let O=ve(g,b,()=>S=null,()=>y=!0);S&&(O+=pe(O,a,d(S))),y&&S&&(y=!1),w.push(r+O)}let E;if(w.length===0)E=s.start+s.end;else{E=w[0];for(let k=1;k<w.length;++k){let g=w[k];E+=g?`
${f}${g}`:`
`}}return e?(E+=`
`+le(d(e),f),l&&l()):y&&c&&c(),E}function Oi({comment:e,items:t},n,{flowChars:r,itemIndent:s,onComment:a}){let{indent:c,indentStep:l,flowCollectionPadding:f,options:{commentString:d}}=n;s+=l;let b=Object.assign({},n,{indent:s,inFlow:!0,type:null}),y=!1,w=0,E=[];for(let O=0;O<t.length;++O){let I=t[O],T=null;if(Y(I))I.spaceBefore&&E.push(""),ut(n,E,I.commentBefore,!1),I.comment&&(T=I.comment);else if(K(I)){let x=Y(I.key)?I.key:null;x&&(x.spaceBefore&&E.push(""),ut(n,E,x.commentBefore,!1),x.comment&&(y=!0));let p=Y(I.value)?I.value:null;p?(p.comment&&(T=p.comment),p.commentBefore&&(y=!0)):I.value==null&&x&&x.comment&&(T=x.comment)}T&&(y=!0);let B=ve(I,b,()=>T=null);O<t.length-1&&(B+=","),T&&(B+=pe(B,s,d(T))),!y&&(E.length>w||B.includes(`
`))&&(y=!0),E.push(B),w=E.length}let k,{start:g,end:S}=r;if(E.length===0)k=g+S;else if(y||(y=E.reduce((O,I)=>O+I.length+2,2)>pt.maxFlowStringSingleLineLength),y){k=g;for(let O of E)k+=O?`
${l}${c}${O}`:`
`;k+=`
${c}${S}`}else k=`${g}${f}${E.join(" ")}${f}${S}`;return e&&(k+=pe(k,d(e),c),a&&a()),k}function ut({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){let a=le(t(r),e);n.push(a.trimStart())}}function we(e,t){let n=P(t)?t.value:t;for(let r of e)if(K(r)&&(r.key===t||r.key===n||P(r.key)&&r.key.value===n))return r}var Z=class extends pt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(me,e),this.items=[]}add(e,t){let n;K(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new G(e,e?.value):n=new G(e.key,e.value);let r=we(this.items,n.key),s=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);P(r.value)&&Gn(n.value)?r.value.value=n.value:r.value=n.value}else if(s){let a=this.items.findIndex(c=>s(n,c)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(e){let t=we(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){let n=we(this.items,e)?.value;return(!t&&P(n)?n.value:n)??void 0}has(e){return!!we(this.items,e)}set(e,t){this.add(new G(e,t),!0)}toJSON(e,t,n){let r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(let s of this.items)zn(t,r,s);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(let r of this.items)if(!K(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Zn(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}};function Ni(e,t,n){let{keepUndefined:r,replacer:s}=n,a=new Z(e),c=(l,f)=>{if(typeof s=="function")f=s.call(t,l,f);else if(Array.isArray(s)&&!s.includes(l))return;(f!==void 0||r)&&a.items.push(Ht(l,f,n))};if(t instanceof Map)for(let[l,f]of t)c(l,f);else if(t&&typeof t=="object")for(let l of Object.keys(t))c(l,t[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}var $e={collection:"map",createNode:Ni,default:!0,nodeClass:Z,tag:"tag:yaml.org,2002:map",resolve(e,t){return ge(e)||t("Expected a mapping for this tag"),e}},be=class extends pt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(_e,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=nt(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){let n=nt(e);if(typeof n!="number")return;let r=this.items[n];return!t&&P(r)?r.value:r}has(e){let t=nt(e);return typeof t=="number"&&t<this.items.length}set(e,t){let n=nt(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[n];P(r)&&Gn(t)?r.value=t:this.items[n]=t}toJSON(e,t){let n=[];t?.onCreate&&t.onCreate(n);let r=0;for(let s of this.items)n.push(ae(s,String(r++),t));return n}toString(e,t,n){return e?Zn(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}};function nt(e){let t=P(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function Li(e,t,n){let{replacer:r}=n,s=new be(e);if(t&&Symbol.iterator in Object(t)){let a=0;for(let c of t){if(typeof r=="function"){let l=t instanceof Set?c:String(a++);c=r.call(t,l,c)}s.items.push(Ve(c,void 0,n))}}return s}var Me={collection:"seq",createNode:Li,default:!0,nodeClass:be,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Ee(e)||t("Expected a sequence for this tag"),e}},gt={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),He(e,t,n,r)}},bt={identify:e=>e==null,createNode:()=>new $(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new $(null),stringify:({source:e},t)=>typeof e=="string"&&bt.test.test(e)?e:t.options.nullStr},Xt={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new $(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Xt.test.test(e)){let r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function re({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);let s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let c=a.indexOf(".");c<0&&(c=a.length,a+=".");let l=t-(a.length-c-1);for(;l-- >0;)a+="0"}return a}var er={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:re},tr={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():re(e)}},nr={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new $(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:re},wt=e=>typeof e=="bigint"||Number.isInteger(e),zt=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function rr(e,t,n){let{value:r}=e;return wt(r)&&r>=0?n+r.toString(t):re(e)}var ir={identify:e=>wt(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>zt(e,2,8,n),stringify:e=>rr(e,8,"0o")},sr={identify:wt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>zt(e,0,10,n),stringify:re},or={identify:e=>wt(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>zt(e,2,16,n),stringify:e=>rr(e,16,"0x")},Ii=[$e,Me,gt,bt,Xt,ir,sr,or,er,tr,nr];function In(e){return typeof e=="bigint"||Number.isInteger(e)}var rt=({value:e})=>JSON.stringify(e),Ti=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:rt},{identify:e=>e==null,createNode:()=>new $(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:rt},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:rt},{identify:In,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>In(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:rt}],Bi={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},xi=[$e,Me].concat(Ti,Bi),Zt={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Oe=="function")return Oe.from(e,"base64");if(typeof atob=="function"){let n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,a){let c=n,l;if(typeof Oe=="function")l=c instanceof Oe?c.toString("base64"):Oe.from(c.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let d=0;d<c.length;++d)f+=String.fromCharCode(c[d]);l=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=$.BLOCK_LITERAL),t!==$.QUOTE_DOUBLE){let f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),d=Math.ceil(l.length/f),b=new Array(d);for(let y=0,w=0;y<d;++y,w+=f)b[y]=l.substr(w,f);l=b.join(t===$.BLOCK_LITERAL?`
`:" ")}return He({comment:e,type:t,value:l},r,s,a)}};function ar(e,t){if(Ee(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!K(r)){if(ge(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");let s=r.items[0]||new G(new $(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){let a=s.value??s.key;a.comment=a.comment?`${r.comment}
${a.comment}`:r.comment}r=s}e.items[n]=K(r)?r:new G(r)}}else t("Expected a sequence for this tag");return e}function lr(e,t,n){let{replacer:r}=n,s=new be(e);s.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let c of t){typeof r=="function"&&(c=r.call(t,String(a++),c));let l,f;if(Array.isArray(c))if(c.length===2)l=c[0],f=c[1];else throw new TypeError(`Expected [key, value] tuple: ${c}`);else if(c&&c instanceof Object){let d=Object.keys(c);if(d.length===1)l=d[0],f=c[l];else throw new TypeError(`Expected { key: value } tuple: ${c}`)}else l=c;s.items.push(Ht(l,f,n))}return s}var en={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ar,createNode:lr},Fe=class extends be{constructor(){super(),this.add=Z.prototype.add.bind(this),this.delete=Z.prototype.delete.bind(this),this.get=Z.prototype.get.bind(this),this.has=Z.prototype.has.bind(this),this.set=Z.prototype.set.bind(this),this.tag=Fe.tag}toJSON(e,t){if(!t)return super.toJSON(e);let n=new Map;t?.onCreate&&t.onCreate(n);for(let r of this.items){let s,a;if(K(r)?(s=ae(r.key,"",t),a=ae(r.value,s,t)):s=ae(r,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,a)}return n}};Fe.tag="tag:yaml.org,2002:omap";var tn={collection:"seq",identify:e=>e instanceof Map,nodeClass:Fe,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let n=ar(e,t),r=[];for(let{key:s}of n.items)P(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Fe,n)},createNode(e,t,n){let r=lr(e,t,n),s=new Fe;return s.items=r.items,s}};function cr({value:e,source:t},n){return t&&(e?ur:fr).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}var ur={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new $(!0),stringify:cr},fr={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new $(!1),stringify:cr},_i={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:re},Ci={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():re(e)}},$i={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new $(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){let r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:re},Xe=e=>typeof e=="bigint"||Number.isInteger(e);function vt(e,t,n,{intAsBigInt:r}){let s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}let c=BigInt(e);return s==="-"?BigInt(-1)*c:c}let a=parseInt(e,n);return s==="-"?-1*a:a}function nn(e,t,n){let{value:r}=e;if(Xe(r)){let s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return re(e)}var Mi={identify:Xe,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>vt(e,2,2,n),stringify:e=>nn(e,2,"0b")},ji={identify:Xe,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>vt(e,1,8,n),stringify:e=>nn(e,8,"0")},Ui={identify:Xe,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>vt(e,0,10,n),stringify:re},Pi={identify:Xe,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>vt(e,2,16,n),stringify:e=>nn(e,16,"0x")},Ye=class extends Z{constructor(e){super(e),this.tag=Ye.tag}add(e){let t;K(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new G(e.key,null):t=new G(e,null),we(this.items,t.key)||this.items.push(t)}get(e,t){let n=we(this.items,e);return!t&&K(n)?P(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let n=we(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new G(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}};Ye.tag="tag:yaml.org,2002:set";var rn={collection:"map",identify:e=>e instanceof Set,nodeClass:Ye,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(ge(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ye,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){let{replacer:r}=n,s=new Ye(e);if(t&&Symbol.iterator in Object(t))for(let a of t)typeof r=="function"&&(a=r.call(t,a,a)),s.items.push(Ht(a,null,n));return s}};function sn(e,t){let n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=c=>t?BigInt(c):Number(c),a=r.replace(/_/g,"").split(":").reduce((c,l)=>c*s(60)+s(l),s(0));return n==="-"?s(-1)*a:a}function hr(e){let{value:t}=e,n=c=>c;if(typeof t=="bigint")n=c=>BigInt(c);else if(isNaN(t)||!isFinite(t))return re(e);let r="";t<0&&(r="-",t*=n(-1));let s=n(60),a=[t%s];return t<60?a.unshift(0):(t=(t-a[0])/s,a.unshift(t%s),t>=60&&(t=(t-a[0])/s,a.unshift(t))),r+a.map(c=>c<10?"0"+String(c):String(c)).join(":").replace(/000000\d*$/,"")}var pr={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>sn(e,n),stringify:hr},dr={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>sn(e,!1),stringify:hr},kt={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(kt.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,r,s,a,c,l]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0,d=Date.UTC(n,r-1,s,a||0,c||0,l||0,f),b=t[8];if(b&&b!=="Z"){let y=sn(b,!1);Math.abs(y)<30&&(y*=60),d-=6e4*y}return new Date(d)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Tn=[$e,Me,gt,bt,ur,fr,Mi,ji,Ui,Pi,_i,Ci,$i,Zt,tn,en,rn,pr,dr,kt],Bn=new Map([["core",Ii],["failsafe",[$e,Me,gt]],["json",xi],["yaml11",Tn],["yaml-1.1",Tn]]),xn={binary:Zt,bool:Xt,float:nr,floatExp:tr,floatNaN:er,floatTime:dr,int:sr,intHex:or,intOct:ir,intTime:pr,map:$e,null:bt,omap:tn,pairs:en,seq:Me,set:rn,timestamp:kt},Di={"tag:yaml.org,2002:binary":Zt,"tag:yaml.org,2002:omap":tn,"tag:yaml.org,2002:pairs":en,"tag:yaml.org,2002:set":rn,"tag:yaml.org,2002:timestamp":kt};function jt(e,t){let n=Bn.get(t);if(!n)if(Array.isArray(e))n=[];else{let r=Array.from(Bn.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(let r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;let s=xn[r];if(s)return s;let a=Object.keys(xn).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${a}`)})}var Ri=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,Et=class{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:s,sortMapEntries:a,toStringDefaults:c}){this.compat=Array.isArray(e)?jt(e,"compat"):e?jt(null,e):null,this.merge=!!n,this.name=typeof s=="string"&&s||"core",this.knownTags=r?Di:{},this.tags=jt(t,this.name),this.toStringOptions=c??null,Object.defineProperty(this,me,{value:$e}),Object.defineProperty(this,ce,{value:gt}),Object.defineProperty(this,_e,{value:Me}),this.sortMapEntries=typeof a=="function"?a:a===!0?Ri:null}clone(){let e=Object.create(Et.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function Ki(e,t){let n=[],r=t.directives===!0;if(t.directives!==!1&&e.directives){let f=e.directives.toString(e);f?(n.push(f),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");let s=Hn(e,t),{commentString:a}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");let f=a(e.commentBefore);n.unshift(le(f,""))}let c=!1,l=null;if(e.contents){if(Y(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){let b=a(e.contents.commentBefore);n.push(le(b,""))}s.forceBlockIndent=!!e.comment,l=e.contents.comment}let f=l?void 0:()=>c=!0,d=ve(e.contents,s,()=>l=null,f);l&&(d+=pe(d,"",a(l))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(ve(e.contents,s));if(e.directives?.docEnd)if(e.comment){let f=a(e.comment);f.includes(`
`)?(n.push("..."),n.push(le(f,""))):n.push(`... ${f}`)}else n.push("...");else{let f=e.comment;f&&c&&(f=f.replace(/^\n+/,"")),f&&((!c||l)&&n[n.length-1]!==""&&n.push(""),n.push(le(a(f),"")))}return n.join(`
`)+`
`}function Ke(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,a=r.length;s<a;++s){let c=r[s],l=Ke(e,r,String(s),c);l===void 0?delete r[s]:l!==c&&(r[s]=l)}else if(r instanceof Map)for(let s of Array.from(r.keys())){let a=r.get(s),c=Ke(e,r,s,a);c===void 0?r.delete(s):c!==a&&r.set(s,c)}else if(r instanceof Set)for(let s of Array.from(r)){let a=Ke(e,r,s,s);a===void 0?r.delete(s):a!==s&&(r.delete(s),r.add(a))}else for(let[s,a]of Object.entries(r)){let c=Ke(e,r,s,a);c===void 0?delete r[s]:c!==a&&(r[s]=c)}return e.call(t,n,r)}var je=class{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,te,{value:qt});let r=null;typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t,t=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:a}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new H({version:a}),this.setSchema(a,n),e===void 0?this.contents=null:this.contents=this.createNode(e,r,n)}clone(){let e=Object.create(je.prototype,{[te]:{value:qt}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Y(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ne(this.contents)&&this.contents.add(e)}addIn(e,t){Ne(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let n=Wn(this);e.anchor=!t||n.has(t)?Jn(t||"a",n):t}return new Qe(e.anchor)}createNode(e,t,n){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){let g=O=>typeof O=="number"||O instanceof String||O instanceof Number,S=t.filter(g).map(String);S.length>0&&(t=t.concat(S)),r=t}else n===void 0&&t&&(n=t,t=void 0);let{aliasDuplicateObjects:s,anchorPrefix:a,flow:c,keepUndefined:l,onTagObj:f,tag:d}=n??{},{onAnchor:b,setAnchors:y,sourceObjects:w}=pi(this,a||"a"),E={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:b,onTagObj:f,replacer:r,schema:this.schema,sourceObjects:w},k=Ve(e,d,E);return c&&F(k)&&(k.flow=!0),y(),k}createPair(e,t,n={}){let r=this.createNode(e,null,n),s=this.createNode(t,null,n);return new G(r,s)}delete(e){return Ne(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Re(e)?this.contents==null?!1:(this.contents=null,!0):Ne(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return F(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Re(e)?!t&&P(this.contents)?this.contents.value:this.contents:F(this.contents)?this.contents.getIn(e,t):void 0}has(e){return F(this.contents)?this.contents.has(e):!1}hasIn(e){return Re(e)?this.contents!==void 0:F(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=ct(this.schema,[e],t):Ne(this.contents)&&this.contents.set(e,t)}setIn(e,t){Re(e)?this.contents=t:this.contents==null?this.contents=ct(this.schema,Array.from(e),t):Ne(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new H({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new H({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new Et(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:a}={}){let c={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100,stringify:ve},l=ae(this.contents,t??"",c);if(typeof s=="function")for(let{count:f,res:d}of c.anchors.values())s(d,f);return typeof a=="function"?Ke(a,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return Ki(this,e)}};function Ne(e){if(F(e))return!0;throw new Error("Expected a YAML collection as document contents")}var St=class extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}},de=class extends St{constructor(e,t,n){super("YAMLParseError",e,t,n)}},on=class extends St{constructor(e,t,n){super("YAMLWarning",e,t,n)}},ft=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));let{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let a=s-1,c=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(a>=60&&c.length>80){let l=Math.min(a-39,c.length-79);c="\u2026"+c.substring(l),a-=l-1}if(c.length>80&&(c=c.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(c.substring(0,a))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`\u2026
`),c=l+c}if(/[^ ]/.test(c)){let l=1,f=n.linePos[1];f&&f.line===r&&f.col>s&&(l=Math.min(f.col-s,80-a));let d=" ".repeat(a)+"^".repeat(l);n.message+=`:

${c}
${d}
`}};function xe(e,{flow:t,indicator:n,next:r,offset:s,onError:a,startOnNewline:c}){let l=!1,f=c,d=c,b="",y="",w=!1,E=!1,k=!1,g=null,S=null,O=null,I=null,T=null;for(let p of e)switch(k&&(p.type!=="space"&&p.type!=="newline"&&p.type!=="comma"&&a(p.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),k=!1),p.type){case"space":!t&&f&&n!=="doc-start"&&p.source[0]==="	"&&a(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),d=!0;break;case"comment":{d||a(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let A=p.source.substring(1)||" ";b?b+=y+A:b=A,y="",f=!1;break}case"newline":f?b?b+=p.source:l=!0:y+=p.source,f=!0,w=!0,(g||S)&&(E=!0),d=!0;break;case"anchor":g&&a(p,"MULTIPLE_ANCHORS","A node can have at most one anchor"),p.source.endsWith(":")&&a(p.offset+p.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=p,T===null&&(T=p.offset),f=!1,d=!1,k=!0;break;case"tag":{S&&a(p,"MULTIPLE_TAGS","A node can have at most one tag"),S=p,T===null&&(T=p.offset),f=!1,d=!1,k=!0;break}case n:(g||S)&&a(p,"BAD_PROP_ORDER",`Anchors and tags must be after the ${p.source} indicator`),I&&a(p,"UNEXPECTED_TOKEN",`Unexpected ${p.source} in ${t??"collection"}`),I=p,f=!1,d=!1;break;case"comma":if(t){O&&a(p,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),O=p,f=!1,d=!1;break}default:a(p,"UNEXPECTED_TOKEN",`Unexpected ${p.type} token`),f=!1,d=!1}let B=e[e.length-1],x=B?B.offset+B.source.length:s;return k&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&a(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:O,found:I,spaceBefore:l,comment:b,hasNewline:w,hasNewlineAfterProp:E,anchor:g,tag:S,end:x,start:T??x}}function We(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let n of t.start)if(n.type==="newline")return!0;if(t.sep){for(let n of t.sep)if(n.type==="newline")return!0}if(We(t.key)||We(t.value))return!0}return!1;default:return!0}}function Vt(e,t,n){if(t?.type==="flow-collection"){let r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&We(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mr(e,t,n){let{uniqueKeys:r}=e.options;if(r===!1)return!1;let s=typeof r=="function"?r:(a,c)=>a===c||P(a)&&P(c)&&a.value===c.value&&!(a.value==="<<"&&e.schema.merge);return t.some(a=>s(a.key,n))}var _n="All mapping items must start at the same column";function qi({composeNode:e,composeEmptyNode:t},n,r,s){let a=new Z(n.schema);n.atRoot&&(n.atRoot=!1);let c=r.offset,l=null;for(let f of r.items){let{start:d,key:b,sep:y,value:w}=f,E=xe(d,{indicator:"explicit-key-ind",next:b??y?.[0],offset:c,onError:s,startOnNewline:!0}),k=!E.found;if(k){if(b&&(b.type==="block-seq"?s(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in b&&b.indent!==r.indent&&s(c,"BAD_INDENT",_n)),!E.anchor&&!E.tag&&!y){l=E.end,E.comment&&(a.comment?a.comment+=`
`+E.comment:a.comment=E.comment);continue}(E.hasNewlineAfterProp||We(b))&&s(b??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else E.found?.indent!==r.indent&&s(c,"BAD_INDENT",_n);let g=E.end,S=b?e(n,b,E,s):t(n,g,d,null,E,s);n.schema.compat&&Vt(r.indent,b,s),mr(n,a.items,S)&&s(g,"DUPLICATE_KEY","Map keys must be unique");let O=xe(y??[],{indicator:"map-value-ind",next:w,offset:S.range[2],onError:s,startOnNewline:!b||b.type==="block-scalar"});if(c=O.end,O.found){k&&(w?.type==="block-map"&&!O.hasNewline&&s(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&E.start<O.found.offset-1024&&s(S.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let I=w?e(n,w,O,s):t(n,c,y,null,O,s);n.schema.compat&&Vt(r.indent,w,s),c=I.range[2];let T=new G(S,I);n.options.keepSourceTokens&&(T.srcToken=f),a.items.push(T)}else{k&&s(S.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),O.comment&&(S.comment?S.comment+=`
`+O.comment:S.comment=O.comment);let I=new G(S);n.options.keepSourceTokens&&(I.srcToken=f),a.items.push(I)}}return l&&l<c&&s(l,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,c,l??c],a}function Fi({composeNode:e,composeEmptyNode:t},n,r,s){let a=new be(n.schema);n.atRoot&&(n.atRoot=!1);let c=r.offset,l=null;for(let{start:f,value:d}of r.items){let b=xe(f,{indicator:"seq-item-ind",next:d,offset:c,onError:s,startOnNewline:!0});if(!b.found)if(b.anchor||b.tag||d)d&&d.type==="block-seq"?s(b.end,"BAD_INDENT","All sequence items must start at the same column"):s(c,"MISSING_CHAR","Sequence item without - indicator");else{l=b.end,b.comment&&(a.comment=b.comment);continue}let y=d?e(n,d,b,s):t(n,b.end,f,null,b,s);n.schema.compat&&Vt(r.indent,d,s),c=y.range[2],a.items.push(y)}return a.range=[r.offset,c,l??c],a}function ze(e,t,n,r){let s="";if(e){let a=!1,c="";for(let l of e){let{source:f,type:d}=l;switch(d){case"space":a=!0;break;case"comment":{n&&!a&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let b=f.substring(1)||" ";s?s+=c+b:s=b,c="";break}case"newline":s&&(c+=f),a=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}t+=f.length}}return{comment:s,offset:t}}var Ut="Block collections are not allowed within flow collections",Pt=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Yi({composeNode:e,composeEmptyNode:t},n,r,s){let a=r.start.source==="{",c=a?"flow map":"flow sequence",l=a?new Z(n.schema):new be(n.schema);l.flow=!0;let f=n.atRoot;f&&(n.atRoot=!1);let d=r.offset+r.start.source.length;for(let k=0;k<r.items.length;++k){let g=r.items[k],{start:S,key:O,sep:I,value:T}=g,B=xe(S,{flow:c,indicator:"explicit-key-ind",next:O??I?.[0],offset:d,onError:s,startOnNewline:!1});if(!B.found){if(!B.anchor&&!B.tag&&!I&&!T){k===0&&B.comma?s(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):k<r.items.length-1&&s(B.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),B.comment&&(l.comment?l.comment+=`
`+B.comment:l.comment=B.comment),d=B.end;continue}!a&&n.options.strict&&We(O)&&s(O,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(k===0)B.comma&&s(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(B.comma||s(B.start,"MISSING_CHAR",`Missing , between ${c} items`),B.comment){let x="";e:for(let p of S)switch(p.type){case"comma":case"space":break;case"comment":x=p.source.substring(1);break e;default:break e}if(x){let p=l.items[l.items.length-1];K(p)&&(p=p.value??p.key),p.comment?p.comment+=`
`+x:p.comment=x,B.comment=B.comment.substring(x.length+1)}}if(!a&&!I&&!B.found){let x=T?e(n,T,B,s):t(n,B.end,I,null,B,s);l.items.push(x),d=x.range[2],Pt(T)&&s(x.range,"BLOCK_IN_FLOW",Ut)}else{let x=B.end,p=O?e(n,O,B,s):t(n,x,S,null,B,s);Pt(O)&&s(p.range,"BLOCK_IN_FLOW",Ut);let A=xe(I??[],{flow:c,indicator:"map-value-ind",next:T,offset:p.range[2],onError:s,startOnNewline:!1});if(A.found){if(!a&&!B.found&&n.options.strict){if(I)for(let _ of I){if(_===A.found)break;if(_.type==="newline"){s(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}B.start<A.found.offset-1024&&s(A.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else T&&("source"in T&&T.source&&T.source[0]===":"?s(T,"MISSING_CHAR",`Missing space after : in ${c}`):s(A.start,"MISSING_CHAR",`Missing , or : between ${c} items`));let L=T?e(n,T,A,s):A.found?t(n,A.end,I,null,A,s):null;L?Pt(T)&&s(L.range,"BLOCK_IN_FLOW",Ut):A.comment&&(p.comment?p.comment+=`
`+A.comment:p.comment=A.comment);let C=new G(p,L);if(n.options.keepSourceTokens&&(C.srcToken=g),a){let _=l;mr(n,_.items,p)&&s(x,"DUPLICATE_KEY","Map keys must be unique"),_.items.push(C)}else{let _=new Z(n.schema);_.flow=!0,_.items.push(C),l.items.push(_)}d=L?L.range[2]:A.end}}let b=a?"}":"]",[y,...w]=r.end,E=d;if(y&&y.source===b)E=y.offset+y.source.length;else{let k=c[0].toUpperCase()+c.substring(1),g=f?`${k} must end with a ${b}`:`${k} in block collection must be sufficiently indented and end with a ${b}`;s(d,f?"MISSING_CHAR":"BAD_INDENT",g),y&&y.source.length!==1&&w.unshift(y)}if(w.length>0){let k=ze(w,E,n.options.strict,s);k.comment&&(l.comment?l.comment+=`
`+k.comment:l.comment=k.comment),l.range=[r.offset,E,k.offset]}else l.range=[r.offset,E,E];return l}function Vi(e,t,n,r,s){let a;switch(n.type){case"block-map":{a=qi(e,t,n,s);break}case"block-seq":{a=Fi(e,t,n,s);break}case"flow-collection":{a=Yi(e,t,n,s);break}}if(!r)return a;let c=t.directives.tagName(r.source,w=>s(r,"TAG_RESOLVE_FAILED",w));if(!c)return a;let l=a.constructor;if(c==="!"||c===l.tagName)return a.tag=l.tagName,a;let f=ge(a)?"map":"seq",d=t.schema.tags.find(w=>w.collection===f&&w.tag===c);if(!d){let w=t.schema.knownTags[c];if(w&&w.collection===f)t.schema.tags.push(Object.assign({},w,{default:!1})),d=w;else return s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,!0),a.tag=c,a}let b=d.resolve(a,w=>s(r,"TAG_RESOLVE_FAILED",w),t.options),y=Y(b)?b:new $(b);return y.range=a.range,y.tag=c,d?.format&&(y.format=d.format),y}function yr(e,t,n){let r=e.offset,s=Wi(e,t,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};let a=s.mode===">"?$.BLOCK_FOLDED:$.BLOCK_LITERAL,c=e.source?Ji(e.source):[],l=c.length;for(let g=c.length-1;g>=0;--g){let S=c[g][1];if(S===""||S==="\r")l=g;else break}if(l===0){let g=s.chomp==="+"&&c.length>0?`
`.repeat(Math.max(1,c.length-1)):"",S=r+s.length;return e.source&&(S+=e.source.length),{value:g,type:a,comment:s.comment,range:[r,S,S]}}let f=e.indent+s.indent,d=e.offset+s.length,b=0;for(let g=0;g<l;++g){let[S,O]=c[g];if(O===""||O==="\r")s.indent===0&&S.length>f&&(f=S.length);else{if(S.length<f){let I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(d+S.length,"MISSING_CHAR",I)}s.indent===0&&(f=S.length),b=g;break}d+=S.length+O.length+1}for(let g=c.length-1;g>=l;--g)c[g][0].length>f&&(l=g+1);let y="",w="",E=!1;for(let g=0;g<b;++g)y+=c[g][0].slice(f)+`
`;for(let g=b;g<l;++g){let[S,O]=c[g];d+=S.length+O.length+1;let I=O[O.length-1]==="\r";if(I&&(O=O.slice(0,-1)),O&&S.length<f){let T=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(d-O.length-(I?2:1),"BAD_INDENT",T),S=""}a===$.BLOCK_LITERAL?(y+=w+S.slice(f)+O,w=`
`):S.length>f||O[0]==="	"?(w===" "?w=`
`:!E&&w===`
`&&(w=`

`),y+=w+S.slice(f)+O,w=`
`,E=!0):O===""?w===`
`?y+=`
`:w=`
`:(y+=w+O,w=" ",E=!1)}switch(s.chomp){case"-":break;case"+":for(let g=l;g<c.length;++g)y+=`
`+c[g][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}let k=r+s.length+e.source.length;return{value:y,type:a,comment:s.comment,range:[r,k,k]}}function Wi({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:s}=t[0],a=s[0],c=0,l="",f=-1;for(let w=1;w<s.length;++w){let E=s[w];if(!l&&(E==="-"||E==="+"))l=E;else{let k=Number(E);!c&&k?c=k:f===-1&&(f=e+w)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let d=!1,b="",y=s.length;for(let w=1;w<t.length;++w){let E=t[w];switch(E.type){case"space":d=!0;case"newline":y+=E.source.length;break;case"comment":n&&!d&&r(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=E.source.length,b=E.source.substring(1);break;case"error":r(E,"UNEXPECTED_TOKEN",E.message),y+=E.source.length;break;default:{let k=`Unexpected token in block scalar header: ${E.type}`;r(E,"UNEXPECTED_TOKEN",k);let g=E.source;g&&typeof g=="string"&&(y+=g.length)}}}return{mode:a,indent:c,chomp:l,comment:b,length:y}}function Ji(e){let t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<t.length;a+=2)s.push([t[a],t[a+1]]);return s}function gr(e,t,n){let{offset:r,type:s,source:a,end:c}=e,l,f,d=(w,E,k)=>n(r+w,E,k);switch(s){case"scalar":l=$.PLAIN,f=Gi(a,d);break;case"single-quoted-scalar":l=$.QUOTE_SINGLE,f=Qi(a,d);break;case"double-quoted-scalar":l=$.QUOTE_DOUBLE,f=Hi(a,d);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+a.length,r+a.length]}}let b=r+a.length,y=ze(c,b,t,n);return{value:f,type:l,comment:y.comment,range:[r,b,y.offset]}}function Gi(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),br(e)}function Qi(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),br(e.slice(1,-1)).replace(/''/g,"'")}function br(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],a=" ",c=t.lastIndex;for(n.lastIndex=c;r=n.exec(e);)r[1]===""?a===`
`?s+=a:a=`
`:(s+=a+r[1],a=" "),c=n.lastIndex;let l=/[ \t]*(.*)/sy;return l.lastIndex=c,r=l.exec(e),s+a+(r?.[1]??"")}function Hi(e,t){let n="";for(let r=1;r<e.length-1;++r){let s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){let{fold:a,offset:c}=Xi(e,r);n+=a,r=c}else if(s==="\\"){let a=e[++r],c=zi[a];if(c)n+=c;else if(a===`
`)for(a=e[r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="\r"&&e[r+1]===`
`)for(a=e[++r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="x"||a==="u"||a==="U"){let l={x:2,u:4,U:8}[a];n+=Zi(e,r+1,l,t),r+=l}else{let l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){let a=r,c=e[r+1];for(;c===" "||c==="	";)c=e[++r+1];c!==`
`&&!(c==="\r"&&e[r+2]===`
`)&&(n+=r>a?e.slice(a,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function Xi(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}var zi={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Zi(e,t,n,r){let s=e.substr(t,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(a)){let c=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(a)}function wr(e,t,n,r){let{value:s,type:a,comment:c,range:l}=t.type==="block-scalar"?yr(t,e.options.strict,r):gr(t,e.options.strict,r),f=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,d=n&&f?es(e.schema,s,f,n,r):t.type==="scalar"?ts(e,s,t,r):e.schema[ce],b;try{let y=d.resolve(s,w=>r(n??t,"TAG_RESOLVE_FAILED",w),e.options);b=P(y)?y:new $(y)}catch(y){let w=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",w),b=new $(s)}return b.range=l,b.source=s,a&&(b.type=a),f&&(b.tag=f),d.format&&(b.format=d.format),c&&(b.comment=c),b}function es(e,t,n,r,s){if(n==="!")return e[ce];let a=[];for(let l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)a.push(l);else return l;for(let l of a)if(l.test?.test(t))return l;let c=e.knownTags[n];return c&&!c.collection?(e.tags.push(Object.assign({},c,{default:!1,test:void 0})),c):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[ce])}function ts({directives:e,schema:t},n,r,s){let a=t.tags.find(c=>c.default&&c.test?.test(n))||t[ce];if(t.compat){let c=t.compat.find(l=>l.default&&l.test?.test(n))??t[ce];if(a.tag!==c.tag){let l=e.tagString(a.tag),f=e.tagString(c.tag),d=`Value may be parsed as either ${l} or ${f}`;s(r,"TAG_RESOLVE_FAILED",d,!0)}}return a}function ns(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];s?.type==="space";)e+=s.source.length,s=t[++r];break}}return e}var rs={composeNode:vr,composeEmptyNode:an};function vr(e,t,n,r){let{spaceBefore:s,comment:a,anchor:c,tag:l}=n,f,d=!0;switch(t.type){case"alias":f=is(e,t,r),(c||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=wr(e,t,l,r),c&&(f.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=Vi(rs,e,t,l,r),c&&(f.anchor=c.source.substring(1));break;default:{let b=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",b),f=an(e,t.offset,void 0,null,n,r),d=!1}}return c&&f.anchor===""&&r(c,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(f.spaceBefore=!0),a&&(t.type==="scalar"&&t.source===""?f.comment=a:f.commentBefore=a),e.options.keepSourceTokens&&d&&(f.srcToken=t),f}function an(e,t,n,r,{spaceBefore:s,comment:a,anchor:c,tag:l,end:f},d){let b={type:"scalar",offset:ns(t,n,r),indent:-1,source:""},y=wr(e,b,l,d);return c&&(y.anchor=c.source.substring(1),y.anchor===""&&d(c,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(y.spaceBefore=!0),a&&(y.comment=a,y.range[2]=f),y}function is({options:e},{offset:t,source:n,end:r},s){let a=new Qe(n.substring(1));a.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let c=t+n.length,l=ze(r,c,e.strict,s);return a.range=[t,c,l.offset],l.comment&&(a.comment=l.comment),a}function ss(e,t,{offset:n,start:r,value:s,end:a},c){let l=Object.assign({_directives:t},e),f=new je(void 0,l),d={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},b=xe(r,{indicator:"doc-start",next:s??a?.[0],offset:n,onError:c,startOnNewline:!0});b.found&&(f.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!b.hasNewline&&c(b.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=s?vr(d,s,b,c):an(d,b.end,r,null,b,c);let y=f.contents.range[2],w=ze(a,y,!1,c);return w.comment&&(f.comment=w.comment),f.range=[n,y,w.offset],f}function De(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Cn(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){let a=e[s];switch(a[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(a.substring(1)||" "),n=!0,r=!1;break;case"%":e[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}var At=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,r,s)=>{let a=De(t);s?this.warnings.push(new on(a,n,r)):this.errors.push(new de(a,n,r))},this.directives=new H({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:n,afterEmptyLine:r}=Cn(this.prelude);if(n){let s=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(r||e.directives.docStart||!s)e.commentBefore=n;else if(F(s)&&!s.flow&&s.items.length>0){let a=s.items[0];K(a)&&(a=a.key);let c=a.commentBefore;a.commentBefore=c?`${n}
${c}`:n}else{let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Cn(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(let r of e)yield*this.next(r);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,r)=>{let s=De(e);s[0]+=t,this.onError(s,"BAD_DIRECTIVE",n,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=ss(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new de(De(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new de(De(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let t=ze(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new de(De(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({_directives:this.directives},this.options),r=new je(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}},ln={};Jt(ln,{BOM:()=>Ot,DOCUMENT:()=>Nt,FLOW_END:()=>Lt,SCALAR:()=>Je,createScalarToken:()=>as,isCollection:()=>hs,isScalar:()=>ps,prettyToken:()=>ds,resolveAsScalar:()=>os,setScalarValue:()=>ls,stringify:()=>us,tokenType:()=>Ar,visit:()=>ke});function os(e,t=!0,n){if(e){let r=(s,a,c)=>{let l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,a,c);else throw new de([l,l+1],a,c)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return gr(e,t,r);case"block-scalar":return yr(e,t,r)}}return null}function as(e,t){let{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:a=-1,type:c="PLAIN"}=t,l=He({type:c,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{let d=l.indexOf(`
`),b=l.substring(0,d),y=l.substring(d+1)+`
`,w=[{type:"block-scalar-header",offset:a,indent:r,source:b}];return kr(w,f)||w.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:a,indent:r,props:w,source:y}}case'"':return{type:"double-quoted-scalar",offset:a,indent:r,source:l,end:f};case"'":return{type:"single-quoted-scalar",offset:a,indent:r,source:l,end:f};default:return{type:"scalar",offset:a,indent:r,source:l,end:f}}}function ls(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:a=!1,type:c}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!c)switch(e.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{let d=e.props[0];if(d.type!=="block-scalar-header")throw new Error("Invalid block scalar header");c=d.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}let f=He({type:c,value:t},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":cs(e,f);break;case'"':Dt(e,f,"double-quoted-scalar");break;case"'":Dt(e,f,"single-quoted-scalar");break;default:Dt(e,f,"scalar")}}function cs(e,t){let n=t.indexOf(`
`),r=t.substring(0,n),s=t.substring(n+1)+`
`;if(e.type==="block-scalar"){let a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=r,e.source=s}else{let{offset:a}=e,c="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:a,indent:c,source:r}];kr(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:c,source:`
`});for(let f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:c,props:l,source:s})}}function kr(e,t){if(t)for(let n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Dt(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{let r=e.props.slice(1),s=t.length;e.props[0].type==="block-scalar-header"&&(s-=e.props[0].source.length);for(let a of r)a.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{let r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{let r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(let a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}var us=e=>"type"in e?ht(e):lt(e);function ht(e){switch(e.type){case"block-scalar":{let t="";for(let n of e.props)t+=ht(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(let n of e.items)t+=lt(n);return t}case"flow-collection":{let t=e.start.source;for(let n of e.items)t+=lt(n);for(let n of e.end)t+=n.source;return t}case"document":{let t=lt(e);if(e.end)for(let n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let n of e.end)t+=n.source;return t}}}function lt({start:e,key:t,sep:n,value:r}){let s="";for(let a of e)s+=a.source;if(t&&(s+=ht(t)),n)for(let a of n)s+=a.source;return r&&(s+=ht(r)),s}var Wt=Symbol("break visit"),fs=Symbol("skip children"),Er=Symbol("remove item");function ke(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Sr(Object.freeze([]),e,t)}ke.BREAK=Wt;ke.SKIP=fs;ke.REMOVE=Er;ke.itemAtPath=(e,t)=>{let n=e;for(let[r,s]of t){let a=n?.[r];if(a&&"items"in a)n=a.items[s];else return}return n};ke.parentCollection=(e,t)=>{let n=ke.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n?.[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Sr(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(let s of["key","value"]){let a=t[s];if(a&&"items"in a){for(let c=0;c<a.items.length;++c){let l=Sr(Object.freeze(e.concat([[s,c]])),a.items[c],n);if(typeof l=="number")c=l-1;else{if(l===Wt)return Wt;l===Er&&(a.items.splice(c,1),c-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}var Ot="\uFEFF",Nt="",Lt="",Je="",hs=e=>!!e&&"items"in e,ps=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function ds(e){switch(e){case Ot:return"<BOM>";case Nt:return"<DOC>";case Lt:return"<FLOW_END>";case Je:return"<SCALAR>";default:return JSON.stringify(e)}}function Ar(e){switch(e){case Ot:return"byte-order-mark";case Nt:return"doc-mode";case Lt:return"flow-error-end";case Je:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function ee(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var $n="0123456789ABCDEFabcdef".split(""),ms="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Rt=",[]{}".split(""),ys=` ,[]{}
\r	`.split(""),Kt=e=>!e||ys.includes(e),cn=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){let r=this.buffer[n+e+1];if(r===`
`||!r&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&ee(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Ot&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,n=e.indexOf("#");if(n!==-1){let s=e[n-1];(s===" "||s==="	")&&(t=n-1)}for(;;){let s=e[t-1];if(s===" "||s==="	")t-=1;else break}let r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Nt,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let t=this.peek(3);if(t==="---"&&ee(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&ee(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ee(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ee(t)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Kt),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&r[0]!=="#"||n===0&&(r.startsWith("---")||r.startsWith("..."))&&ee(r[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Lt,yield*this.parseLineStart();let s=0;for(;r[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Kt),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let a=this.charAt(1);if(this.flowKey||ee(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let s=0;for(;this.buffer[t-1-s]==="\\";)s+=1;if(s%2===0)break;t=this.buffer.indexOf('"',t+1)}let n=this.buffer.substring(0,t),r=n.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let s=this.continueScalar(r+1);if(s===-1)break;r=n.indexOf(`
`,s)}r!==-1&&(t=r-(n[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>ee(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let r=this.pos;n=this.buffer[r];++r)switch(n){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{let s=this.buffer[r+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{let r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,s=this.buffer[r];s==="\r"&&(s=this.buffer[--r]);let a=r;for(;s===" "||s==="	";)s=this.buffer[--r];if(s===`
`&&r>=this.pos&&r+1+t>a)e=r;else break}while(!0);return yield Je,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,t=this.pos-1,n=this.pos-1,r;for(;r=this.buffer[++n];)if(r===":"){let s=this.buffer[n+1];if(ee(s)||e&&s===",")break;t=n}else if(ee(r)){let s=this.buffer[n+1];if(r==="\r"&&(s===`
`?(n+=1,r=`
`,s=this.buffer[n+1]):t=n),s==="#"||e&&Rt.includes(s))break;if(r===`
`){let a=this.continueScalar(n+1);if(a===-1)break;n=Math.max(n,a-2)}}else{if(e&&Rt.includes(r))break;t=n}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Je,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Kt))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(ee(t)||e&&Rt.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!ee(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(ms.includes(t))t=this.buffer[++e];else if(t==="%"&&$n.includes(this.buffer[e+1])&&$n.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");let r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}},un=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){let s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};let r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}};function ne(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Mn(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Or(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function it(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Le(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function jn(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!ne(t.start,"explicit-key-ind")&&!ne(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Or(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var It=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new cn,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let t=Ar(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{let n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&jn(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{let r=n.items[n.items.length-1];if(r.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!ne(r.start,"explicit-key-ind");return}break}case"block-seq":{let r=n.items[n.items.length-1];r.value?n.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{let r=n.items[n.items.length-1];!r||r.value?n.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){let r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Mn(r.start)===-1&&(t.indent===0||r.start.every(s=>s.type!=="comment"||s.indent<t.indent))&&(n.type==="document"?n.end=r.start:n.items.push({start:r.start}),t.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Mn(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let t=it(this.peek(2)),n=Le(t),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let n="end"in t.value?t.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){let n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let n=!this.onKeyLine&&this.indent===e.indent&&t.sep,r=[];if(n&&t.sep&&!t.value){let s=[];for(let a=0;a<t.sep.length;++a){let c=t.sep[a];switch(c.type){case"newline":s.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(r=t.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":n||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!ne(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):n||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ne(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ne(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Or(t.key)&&!ne(t.sep,"newline")){let s=Le(t.start),a=t.key,c=t.sep;c.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:c}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(ne(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{let s=Le(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:r,key:null,sep:[this.sourceToken]}):ne(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);n||t.value?(e.items.push({start:r,key:s,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(s):(Object.assign(t,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{let s=this.startBlockValue(e);if(s){n&&s.type!=="block-seq"&&ne(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let n="end"in t.value?t.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){let n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||ne(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let n=this.startBlockValue(e);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let r=it(n),s=Le(r);jn(e);let a=e.end.splice(1,e.end.length);a.push(this.sourceToken);let c={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=it(e),n=Le(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let t=it(e),n=Le(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function Nr(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new un||null,prettyErrors:t}}function Lr(e,t={}){let{lineCounter:n,prettyErrors:r}=Nr(t),s=new It(n?.addNewLine),a=new At(t),c=Array.from(a.compose(s.parse(e)));if(r&&n)for(let l of c)l.errors.forEach(ft(e,n)),l.warnings.forEach(ft(e,n));return c.length>0?c:Object.assign([],{empty:!0},a.streamInfo())}function fn(e,t={}){let{lineCounter:n,prettyErrors:r}=Nr(t),s=new It(n?.addNewLine),a=new At(t),c=null;for(let l of a.compose(s.parse(e),!0,e.length))if(!c)c=l;else if(c.options.logLevel!=="silent"){c.errors.push(new de(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(c.errors.forEach(ft(e,n)),c.warnings.forEach(ft(e,n))),c}function Ir(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);let s=fn(e,n);if(!s)return null;if(s.warnings.forEach(a=>Xn(s.options.logLevel,a)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function Tr(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){let s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){let{keepUndefined:s}=n??t??{};if(!s)return}return new je(e,r,n).toString(n)}var gs=Dn,{default:Un,...bs}=Pn,$s=Un!==void 0?Un:bs;export{Qe as Alias,ln as CST,At as Composer,je as Document,cn as Lexer,un as LineCounter,G as Pair,It as Parser,$ as Scalar,Et as Schema,St as YAMLError,Z as YAMLMap,de as YAMLParseError,be as YAMLSeq,on as YAMLWarning,$s as default,ye as isAlias,F as isCollection,Ce as isDocument,ge as isMap,Y as isNode,K as isPair,P as isScalar,Ee as isSeq,Ir as parse,Lr as parseAllDocuments,fn as parseDocument,Tr as stringify,ue as visit,Ge as visitAsync};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=yaml.bundle.js.map