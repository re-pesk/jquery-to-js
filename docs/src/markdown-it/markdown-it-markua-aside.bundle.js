var x=new Set(["aside","blurb"]),T=new Map([["A>","aside"],["B>","blurb"],["C>","blurb:center"],["D>","blurb:discussion"],["E>","blurb:error"],["I>","blurb:information"],["Q>","blurb:question"],["T>","blurb:tip"],["W>","blurb:warning"],["X>","blurb:exercise"]]);function _(e){return e===" "||e==="	"}function N(e,r,l,u,t){return e[r].tag="aside",t.renderToken(e,r,l,u,t)}function g(e,r,l,u,t){let a=e[r];return a.tag="aside",a.nesting===1&&(a.attrJoin("class","blurb"),a.info&&a.info.className&&a.attrJoin("class",a.info.className)),t.renderToken(e,r,l,u,t)}function p(e,r){let l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r],t=e.src.slice(l,u);return{start:l,end:u,text:t}}function h(e,r){let{text:l,start:u}=p(e,r),t=l.slice(0,2),a=T.get(t);if(!a)return;let[o,n]=a.split(":"),i=l[2],b=_(i);return{tagName:o,className:n,marker:t,start:u,end:u+2+(b?1:0),lineNumber:r,spaceAfter:b}}function y(e,r){let{text:l,start:u,end:t}=p(e,r),a=e.src;if(l[0]!=="{")return;let o="";for(let s=1;/[a-z]/i.test(l[s])&&s<l.length;s++)o+=l[s];if(!x.has(o))return;let n=6,i="";if(o==="blurb"){let s=e.skipSpaces(u+6);if(a[s]===","){if(s=e.skipSpaces(s+1),a.slice(s,s+6)!=="class:")return;s=e.skipSpaces(s+6);let c=s;for(;a.charAt(c)!=="}"&&c<t;c++)i+=a.charAt(c);n=c-u}}if(l[n]!=="}")return;let b=u,f=b+n+1;return{tagName:o,className:i,start:b,end:f,lineNumber:r,alone:b===u&&f===t}}function M(e,r,l){let{text:u,start:t,end:a}=p(e,r),o=`{/${l}}`,n=u.indexOf(o);if(n===-1)return;let i=t+n,b=i+o.length;return{tagName:l,start:i,end:b,lineNumber:r,alone:i===t&&b===a}}function S(e,r,l,u){let t=e.lineMax,a=r.lineNumber,o=r.end;if(u)return!0;let n=[e.bMarks[a]];e.bMarks[a]=o;let i=e.parentType;e.parentType=r.tagName;let b;for(b=a+1;b<l;b++){let m=h(e,b);if(!m||m.tagName!==r.tagName||m.className!==r.className)break;n.push(e.bMarks[b]),e.bMarks[b]=m.end}let f=e.blkIndent;e.blkIndent=0;let s=r.tagName,c=e.push(`${s}_open`,s,1);return c.markup=r.marker,c.info=s==="blurb"?{className:r.className}:null,e.md.block.tokenize(e,a,b),c=e.push(`${s}_close`,s,-1),c.markup=r.marker,e.lineMax=t,e.parentType=i,e.blkIndent=f,!0}function I(e,r,l,u){let t=r.lineNumber,a=t+1,o=!1,n=M(e,t,r.tagName);if(n&&(o=!0,u))return!0;if(o)a=t+1;else for(a=t;a++,!(a>=l||(n=M(e,a,r.tagName),n)););let i=r.tagName,b=e.parentType,f=e.lineMax;e.parentType=i,e.lineMax=a;let s=e.push(i+"_open",i,1);s.markup=`{${i}}`,s.block=!0,s.info=i==="blurb"?{className:r.className}:null,s.map=[t,t+1];let c=e.bMarks[t],m=e.eMarks[t],k=r.lineNumber,d=n.lineNumber;return r.alone?k++:e.bMarks[r.lineNumber]=r.end,n.alone||(d++,e.eMarks[n.lineNumber]=n.start),e.md.block.tokenize(e,k,d),e.bMarks[t]=c,e.eMarks[t]=m,s=e.push(i+"_close",i,-1),s.markup=`{/${i}}`,s.block=!0,e.parentType=b,e.lineMax=f,e.line=n.lineNumber+1,!0}function $(e){function r(l,u,t,a){if(l.sCount[u]-l.blkIndent>=4)return!1;let o=h(l,u);if(o)return S(l,o,t,a);let n=y(l,u);return n?I(l,n,t,a):!1}e.block.ruler.before("paragraph","aside",r,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.aside_open=N,e.renderer.rules.aside_close=N,e.renderer.rules.blurb_open=g,e.renderer.rules.blurb_close=g}export{$ as asidePlugin};
//# sourceMappingURL=markdown-it-markua-aside.bundle.js.map